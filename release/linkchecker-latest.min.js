/*
 2014, macek <paulmacek@gmail.com>
 @link https://github.com/macek/jquery-serialize-object
 @license BSD
 @version 2.5.0
*/
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(f,g,l){if(l.get||l.set)throw new TypeError("ES3 does not support getters and setters.");f!=Array.prototype&&f!=Object.prototype&&(f[g]=l.value)};$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(f){return $jscomp.SYMBOL_PREFIX+(f||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.iterator;f||(f=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[f]&&$jscomp.defineProperty(Array.prototype,f,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(f){var g=0;return $jscomp.iteratorPrototype(function(){return g<f.length?{done:!1,value:f[g++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(f){$jscomp.initSymbolIterator();f={next:f};f[$jscomp.global.Symbol.iterator]=function(){return this};return f};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(f,g){$jscomp.initSymbolIterator();f instanceof String&&(f+="");var l=0,p={next:function(){if(l<f.length){var n=l++;return{value:g(n,f[n]),done:!1}}p.next=function(){return{done:!0,value:void 0}};return p.next()}};p[Symbol.iterator]=function(){return p};return p};
$jscomp.polyfill=function(f,g,l,p){if(g){l=$jscomp.global;f=f.split(".");for(p=0;p<f.length-1;p++){var n=f[p];n in l||(l[n]={});l=l[n]}f=f[f.length-1];p=l[f];g=g(p);g!=p&&null!=g&&$jscomp.defineProperty(l,f,{configurable:!0,writable:!0,value:g})}};$jscomp.polyfill("Array.prototype.keys",function(f){return f?f:function(){return $jscomp.iteratorFromArray(this,function(f){return f})}},"es6-impl","es3");
!function(f,g){if("function"==typeof define&&define.amd)define(["exports","jquery"],function(f,l){return g(f,l)});else if("undefined"!=typeof exports){var l=require("jquery");g(exports,l)}else g(f,f.jQuery||f.Zepto||f.ender||f.$)}(this,function(f,g){function l(f,l){var u={},n={};this.addPair=function(t){if(!p.validate.test(t.name))return this;var J=t.name;a:switch(g('[name="'+t.name+'"]',l).attr("type")){case "checkbox":t="on"===t.value?!0:t.value;break a;default:t=t.value}for(var q,C=J.match(p.key);void 0!==
(q=C.pop());)if(p.push.test(q)){q=J.replace(/\[\]$/,"");q=(void 0===n[q]&&(n[q]=0),n[q]++);var v=[];t=(v[q]=t,v)}else p.fixed.test(q)?(v=[],t=(v[q]=t,v)):p.named.test(q)&&(v={},t=(v[q]=t,v));return u=f.extend(!0,u,t),this};this.addPairs=function(l){if(!f.isArray(l))throw Error("formSerializer.addPairs expects an Array");for(var g=0,p=l.length;p>g;g++)this.addPair(l[g]);return this};this.serialize=function(){return u};this.serializeJSON=function(){return JSON.stringify(u)}}var p={validate:/^[a-z_][a-z0-9_]*(?:\[(?:\d*|[a-z0-9_]+)\])*$/i,
key:/[a-z0-9_]+|(?=\[\])/gi,push:/^$/,fixed:/^\d+$/,named:/^[a-z0-9_]+$/i};return l.patterns=p,l.serializeObject=function(){return(new l(g,this)).addPairs(this.serializeArray()).serialize()},l.serializeJSON=function(){return(new l(g,this)).addPairs(this.serializeArray()).serializeJSON()},"undefined"!=typeof g.fn&&(g.fn.serializeObject=l.serializeObject,g.fn.serializeJSON=l.serializeJSON),f.FormSerializer=l,l});(function(f,g){"function"===typeof define&&define.amd?define([],g):"undefined"!==typeof module&&module.exports?module.exports=g():f.lscache=g()})(this,function(){function f(){if(void 0!==q)return q;if(!localStorage)return!1;try{p("__lscachetest__","__lscachetest__"),n("__lscachetest__"),q=!0}catch(y){q=g(y)&&localStorage.length?!0:!1}return q}function g(f){return f&&("QUOTA_EXCEEDED_ERR"===f.name||"NS_ERROR_DOM_QUOTA_REACHED"===f.name||"QuotaExceededError"===f.name)}function l(){void 0===Q&&(Q=null!=
window.JSON);return Q}function p(f,l){localStorage.removeItem("lscache-"+v+f);localStorage.setItem("lscache-"+v+f,l)}function n(f){localStorage.removeItem("lscache-"+v+f)}function L(f){for(var l=new RegExp("^lscache-"+v.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")+"(.*)"),g=localStorage.length-1;0<=g;--g){var y=localStorage.key(g);(y=(y=y&&y.match(l))&&y[1])&&0>y.indexOf("-cacheexpiration")&&f(y,y+"-cacheexpiration")}}function u(f){var l=f+"-cacheexpiration";n(f);n(l)}function C(f){var l=f+"-cacheexpiration",
g=localStorage.getItem("lscache-"+v+l);if(g&&(g=parseInt(g,10),Math.floor((new Date).getTime()/6E4)>=g))return n(f),n(l),!0}function t(f,l){F&&"console"in window&&"function"===typeof window.console.warn&&(window.console.warn("lscache - "+f),l&&window.console.warn("lscache - The error was: "+l.message))}var J=Math.floor(144E9),q,Q,v="",F=!1;return{set:function(y,q,C){if(f()&&l()){try{q=JSON.stringify(q)}catch(M){return}try{p(y,q)}catch(M){if(g(M)){var F=[],N;L(function(f,l){var g=localStorage.getItem("lscache-"+
v+l),g=g?parseInt(g,10):J;F.push({key:f,size:(localStorage.getItem("lscache-"+v+f)||"").length,expiration:g})});F.sort(function(f,l){return l.expiration-f.expiration});for(var G=(q||"").length;F.length&&0<G;)N=F.pop(),t("Cache is full, removing item with key '"+y+"'"),u(N.key),G-=N.size;try{p(y,q)}catch(ga){t("Could not add item with key '"+y+"', perhaps it's too big?",ga);return}}else{t("Could not add item with key '"+y+"'",M);return}}C?p(y+"-cacheexpiration",(Math.floor((new Date).getTime()/6E4)+
C).toString(10)):n(y+"-cacheexpiration")}},get:function(g){if(!f()||C(g))return null;g=localStorage.getItem("lscache-"+v+g);if(!g||!l())return g;try{return JSON.parse(g)}catch(ua){return g}},remove:function(g){f()&&u(g)},supported:function(){return f()},flush:function(){f()&&L(function(f){u(f)})},flushExpired:function(){f()&&L(function(f){C(f)})},setBucket:function(f){v=f},resetBucket:function(){v=""},enableWarnings:function(f){F=f}}});(function(f,g){"object"===typeof exports&&"undefined"!==typeof module?module.exports=g():"function"===typeof define&&define.amd?define(g):f.riot=g()})(this,function(){function f(a,b){return(b||document).querySelector(a)}function g(a){return"svg"===a?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)}function l(a,b,c){var d=Bb.exec(b);d&&d[1]?a.setAttributeNS("http://www.w3.org/1999/xlink",d[1],c):a.setAttribute(b,c)}function p(a,b){return Object.getOwnPropertyDescriptor(a,
b)}function n(a){return"undefined"===typeof a}function L(a,b){var c=p(a,b);return n(a[b])||c&&c.writable}function u(a){for(var b,c=1,d=arguments,e=d.length;c<e;c++)if(b=d[c])for(var h in b)L(a,h)&&(a[h]=b[h]);return a}function C(a){return Object.create(a)}function t(a,b){return[].slice.call((b||document).querySelectorAll(a))}function J(){return document.createTextNode("")}function q(a,b){a.style.display=b?"":"none";a.hidden=b?!1:!0}function Q(a,b,c){c?(b=a.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">'+
b+"</svg>","application/xml").documentElement,!0),a.appendChild(b)):a.innerHTML=b}function v(a,b){if(a)for(var c;c=Cb.exec(a);)b(c[1].toLowerCase(),c[2]||c[3]||c[4])}function F(){return document.createDocumentFragment()}function y(a,b,c){a.insertBefore(b,c.parentNode&&c)}function ua(a){return Object.keys(a).reduce(function(b,c){return b+" "+c+": "+a[c]+";"},"")}function va(a,b,c){if(a){c=b(a,c);var d;if(!1!==c)for(a=a.firstChild;a;)d=a.nextSibling,va(a,b,c),a=d}}function Na(a){return n(a)||null===
a}function N(a){return Na(a)||""===a}function G(a){return"function"===typeof a}function M(a){return a&&"object"===typeof a}function ga(a){a=a.ownerSVGElement;return!!a||null===a}function T(a){return Array.isArray(a)||a instanceof Array}function Oa(a){return Db.test(a)}function U(a){return"string"===typeof a}function R(a,b){return-1!==a.indexOf(b)}function A(a,b){for(var c=a?a.length:0,d=0;d<c;d++)b(a[d],d);return a}function Pa(a,b){return a.slice(0,b.length)===b}function E(a,b,c,d){Object.defineProperty(a,
b,u({value:c,enumerable:!1,writable:!1,configurable:!0},d));return a}function Qa(a){return a.replace(/-(\w)/g,function(a,c){return c.toUpperCase()})}function Ra(a){console&&console.warn&&console.warn(a)}function V(a,b,c,d,e){var h=a[b],k=T(h),B=!n(e);h&&h===c||(!h&&d?a[b]=[c]:h?k?(a=h.indexOf(c),a!==e&&(-1!==a&&h.splice(a,1),B?h.splice(e,0,c):h.push(c))):a[b]=[h,c]:a[b]=c)}function ha(a){return a.tagName&&H[a.getAttribute("data-is")||a.getAttribute("data-is")||a.tagName.toLowerCase()]}function ia(a,
b){var c=ha(a),d=!b&&a.getAttribute("data-is");return d&&!D.hasExpr(d)?d:c?c.name:a.tagName.toLowerCase()}function wa(){return this.parent?u(C(this),this.parent):this}function Eb(a,b){if(!Fb.test(a))return a;var c={};b=b&&b.replace(Gb,function(a,b,h){c[b]=c[b]||h;return""}).trim();return a.replace(Hb,function(a,b,h){return c[b]||h||""}).replace(Ib,function(a,c){return b||c||""})}function Jb(a,b,c){var d=a&&a.match(/^\s*<([-\w]+)/),d=d&&d[1].toLowerCase(),e=g(c?"svg":"div");a=Eb(a,b);Kb.test(d)?(c=
e,b=(e="o"===d[0])?"select>":"table>",c.innerHTML="<"+b+a.trim()+"</"+b,b=c.firstChild,e?b.selectedIndex=-1:(a=Lb[d])&&1===b.childElementCount&&(b=f(a,b)),e=b):Q(e,a,c);return e}function S(a){for(;a.__.isAnonymous&&a.parent;)a=a.parent;return a}function Mb(a,b,c){var d=this.__.parent,e=this.__.item;if(!e)for(;d&&!e;)e=d.__.item,d=d.__.parent;L(c,"currentTarget")&&(c.currentTarget=a);L(c,"target")&&(c.target=c.srcElement);L(c,"which")&&(c.which=c.charCode||c.keyCode);c.item=e;b.call(this,c);xa.autoUpdate&&
!c.preventUpdate&&(a=S(this),a.isMounted&&a.update())}function ya(a,b,c,d){a=ja(a,b,c);b=b.tagName||ia(b.root,!0);c=S(d);E(a,"parent",c);a.__.parent=d;V(c.tags,b,a);c!==d&&V(d.tags,b,a);return a}function O(a,b,c,d){T(a[b])?(c=a[b].indexOf(c),-1!==c&&a[b].splice(c,1),a[b].length?1!==a[b].length||d||(a[b]=a[b][0]):delete a[b]):a[b]===c&&delete a[b]}function ka(a,b){var c=J(),d=J(),e=F();this.root.insertBefore(c,this.root.firstChild);this.root.appendChild(d);this.__.head=c;for(this.__.tail=d;c;)d=c.nextSibling,
e.appendChild(c),this.__.virts.push(c),c=d;b?a.insertBefore(e,b.__.head):a.appendChild(e)}function za(a,b){var c=F();ka.call(a,c);b.parentNode.replaceChild(c,b)}function Nb(a,b,c){var d=a.tag||a.dom._tag,e,h=(d?d.__:{}).head,k="VIRTUAL"===a.dom.tagName;d&&a.tagName===c?d.update():(d&&(k&&(e=J(),h.parentNode.insertBefore(e,h)),d.unmount(!0)),U(c)&&(a.impl=H[c],a.impl&&(a.tag=d=ya(a.impl,{root:a.dom,parent:b,tagName:c},a.dom.innerHTML,b),A(a.attrs,function(a){return l(d.root,a.name,a.value)}),a.tagName=
c,d.mount(),k&&za(d,e||d.root),b.__.onUnmount=function(){var a=d.opts.dataIs;O(d.parent.tags,a,d);O(d.__.parent.tags,a,d);d.unmount()})))}function Sa(a){if(!this.root||!this.root.getAttribute("virtualized")){var b=a.dom,c;(c=a.attr)?(c=c.replace("riot-",""),Ta[c]&&(c=Ta[c])):c=null;var d=R(["show","hide"],c),e=a.root&&"VIRTUAL"===a.root.tagName,h=this.__.isAnonymous,k=b&&(a.parent||b.parentNode),B="style"===c,f="class"===c;if(a._riot_id)a.__.wasCreated?a.update():(a.mount(),e&&za(a,a.root));else{if(a.update)return a.update();
var e=d&&!h?wa.call(this):this,e=D(a.expr,e),h=!N(e),g=M(e);g&&(f?e=D(JSON.stringify(e),this):B&&(e=ua(e)));if(a.attr&&(!a.wasParsedOnce||!h||!1===e)){var m=b.getAttribute(a.attr)?a.attr:c;b.removeAttribute(m)}a.bool&&(e=e?c:!1);if(a.isRtag)return Nb(a,this,e);if(!a.wasParsedOnce||a.value!==e)if(a.value=e,a.wasParsedOnce=!0,!g||f||B||d)h||(e=""),c?G(e)?(a=c,d=Mb.bind(this,b,e),b[a]=null,c=a.replace(Pb,""),R(this.__.listeners,b)||this.__.listeners.push(b),b["__riot-events__"]||(b["__riot-events__"]=
{}),b["__riot-events__"][a]&&b.removeEventListener(c,b["__riot-events__"][a]),b["__riot-events__"][a]=d,b.addEventListener(c,d,!1)):d?q(b,"hide"===c?!e:e):(a.bool&&(b[c]=e),"value"===c&&b.value!==e?b.value=e:h&&!1!==e&&l(b,c,e),B&&b.hidden&&q(b,!1)):(e+="",k&&(a.parent=k,"TEXTAREA"===k.tagName?(k.value=e,Aa||(b.nodeValue=e)):b.nodeValue=e))}}}function Ua(a){A(a,Sa.bind(this))}function Va(a,b,c,d,e){if(!a||!c){var h=a?wa.call(this):b||this;A(e,function(a){a.expr&&Sa.call(h,a.expr);d[Qa(a.name).replace("riot-",
"")]=a.expr?a.expr.value:a.value})}}function Z(a){return a?a.filter(function(a){return!/[^-\w]/.test(a)}).reduce(function(a,c){var b=c.trim().toLowerCase();return a+',[data-is="'+b+'"]'},""):(a=Object.keys(H),a+Z(a))}function Wa(a,b){var c=this.name,d=this.tmpl,e=this.css,h=this.attrs,k=this.onCreate;H[c]||(Ba(c,d,e,h,k),H[c]["class"]=this.constructor);Ca(a,c,b,this);e&&W.inject();return this}function Ba(a,b,c,d,e){G(d)&&(e=d,/^[\w-]+\s?=/.test(c)?(d=c,c=""):d="");c&&(G(c)?e=c:W.add(c));a=a.toLowerCase();
H[a]={name:a,tmpl:b,attrs:d,fn:e};return a}function Xa(a,b,c,d,e){c&&W.add(c,a);H[a]={name:a,tmpl:b,attrs:d,fn:e};return a}function Da(a,b,c){function d(a){if(a.tagName){var h=a.getAttribute("data-is");b&&h!==b&&(h=b,l(a,"data-is",b));(a=Ca(a,h||a.tagName.toLowerCase(),c))&&e.push(a)}else a.length&&A(a,d)}var e=[],h;W.inject();M(b)&&(c=b,b=0);U(a)&&(a=(a="*"===a?h=Z():a+Z(a.split(/, */)))?t(a):[]);if("*"===b){b=h||Z();if(a.tagName)a=t(b,a);else{var k=[];A(a,function(a){return k.push(t(b,a))});a=k}b=
0}d(a);return e}function aa(a,b,c){if(M(a))aa("__"+Qb++ +"__",a,!0);else{c=c?Rb:Ya;if(!b){if(n(c[a]))throw Error("Unregistered mixin: "+a);return c[a]}c[a]=G(b)?u(b.prototype,c[a]||{})&&b:u(c[a]||{},b)}}function Za(){return A(X,function(a){return a.update()})}function $a(a){H[a]=null}function Sb(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];A(b,function(b){var c,d,k=[],B=["init","__proto__"];b=U(b)?aa(b):b;c=G(b)?new b:b;var f=Object.getPrototypeOf(c);do k=k.concat(Object.getOwnPropertyNames(d||
c));while(d=Object.getPrototypeOf(d||c));A(k,function(b){if(!R(B,b)){var d=p(c,b)||p(f,b),e=d&&(d.get||d.set);!a.hasOwnProperty(b)&&e?Object.defineProperty(a,b,d):a[b]=G(c[b])?c[b].bind(a):c[b]}});c.init&&c.init.bind(a)(a.opts)});return a}function ab(a,b){var c=this.parent,d;c&&(d=c.tags[a],T(d)?d.splice(b,0,d.splice(d.indexOf(this),1)[0]):V(c.tags,a,this))}function bb(a,b){for(var c=this.__.head,d,e=F();c;)if(d=c.nextSibling,e.appendChild(c),c=d,c===this.__.tail){e.appendChild(c);a.insertBefore(e,
b.__.head);break}}function Ea(a,b,c,d){d=d?C(d):{};d[a.key]=b;a.pos&&(d[a.pos]=c);return d}function Tb(a,b){for(var c=b.length,d=a.length;c>d;)c--,Ub.apply(b[c],[b,c])}function Ub(a,b){a.splice(b,1);this.unmount();O(this.parent,this,this.__.tagName,!0)}function Vb(a){var b=this;A(Object.keys(this.tags),function(c){ab.apply(b.tags[c],[c,a])})}function Wb(a,b,c){c?bb.apply(this,[a,b]):y(a,this.root,b.root)}function Xb(a,b,c){c?ka.apply(this,[a,b]):y(a,this.root,b.root)}function Yb(a,b){b?ka.call(this,
a):a.appendChild(this.root)}function Zb(a,b,c){var d;(d="string"!==typeof a.getAttribute("no-reorder"))||(a.removeAttribute("no-reorder"),d=void 0);var e=d,h=a.getAttribute("key"),k=h?D.hasExpr(h):!1,f=ia(a),Ob=H[f];d=a.parentNode;var g=J(),l=ha(a),x=a.getAttribute("if"),r=[],$b=a.innerHTML,w=!H[f],z="VIRTUAL"===a.tagName,K=[],P;a.removeAttribute("each");a.removeAttribute("key");c=D.loopKeys(c);c.isLoop=!0;x&&a.removeAttribute("if");d.insertBefore(g,a);d.removeChild(a);c.update=function(){c.value=
D(c.val,b);var d=c.value,B=F(),m=!T(d)&&!U(d),Y=g.parentNode,p=[];Y&&(m?d=(P=d||!1)?Object.keys(d).map(function(a){return Ea(c,d[a],a)}):[]:P=!1,x&&(d=d.filter(function(a,d){return c.key&&!m?!!D(x,Ea(c,a,d,b)):!!D(x,u(C(b),a))})),A(d,function(g,m){var ba=!P&&c.key?Ea(c,g,m):g,x;x=h?k?D(h,ba):g[h]:g;var la=e&&"object"===typeof g&&!P,q=K.indexOf(x),t=-1===q,q=!t&&la?q:m,n=r[q],v=m>=K.length;if(t=la&&t||!la&&!n)n=ja(Ob,{parent:b,isLoop:!0,isAnonymous:w,tagName:f,root:a.cloneNode(w),item:ba,index:m},
$b),n.mount(),v?Yb.apply(n,[B||Y,z]):Xb.apply(n,[Y,r[m],z]),v||K.splice(m,0,ba),r.splice(m,0,n),l&&V(b.tags,f,n,!0);else if(q!==m&&la){if(h||R(d,K[q]))Wb.apply(n,[Y,r[m],z]),r.splice(m,0,r.splice(q,1)[0]),K.splice(m,0,K.splice(q,1)[0]);c.pos&&(n[c.pos]=m);!l&&n.tags&&Vb.call(n,m)}u(n.__,{item:ba,index:m,parent:b});p[m]=x;t||n.update(ba)}),Tb(d,r),K=p.slice(),Y.insertBefore(B,g))};c.unmount=function(){A(r,function(a){a.unmount()})};return c}function cb(a,b,c,d){return C(db).init(a,b,c,d)}function ma(a){A(a,
function(a){a.unmount?a.unmount(!0):a.tagName?a.tag.unmount(!0):a.unmount&&a.unmount()})}function eb(a,b,c){return C(ac).init(a,b,c)}function fb(a,b){var c=this,d=[];va(a,function(e){var h=e.nodeType,k;if(b||e!==a)if(3===h&&"STYLE"!==e.parentNode.tagName&&D.hasExpr(e.nodeValue)&&d.push({dom:e,expr:e.nodeValue}),1===h){h="VIRTUAL"===e.tagName;if(k=e.getAttribute("each"))return h&&l(e,"loopVirtual",!0),d.push(Zb(e,c,k)),!1;if(k=e.getAttribute("if"))return d.push(eb(e,c,k)),!1;if((k=e.getAttribute("data-is"))&&
D.hasExpr(k))return d.push({isRtag:!0,expr:k,dom:e,attrs:[].slice.call(e.attributes)}),!1;k=ha(e);h&&(e.getAttribute("virtualized")&&e.parentElement.removeChild(e),k||e.getAttribute("virtualized")||e.getAttribute("loopVirtual")||(k={tmpl:e.outerHTML}));if(k&&(e!==a||b))if(h)e.getAttribute("data-is")&&Ra('Virtual tags shouldn\'t be used together with the "data-is" attribute - https://github.com/riot/riot/issues/2511'),l(e,"virtualized",!0),h=ja({tmpl:e.outerHTML},{root:e,parent:c},e.innerHTML),d.push(h);
else return d.push(ya(k,{root:e,parent:c},e.innerHTML,c)),!1;Fa.apply(c,[e,e.attributes,function(a,b){b&&d.push(b)}])}});return d}function Fa(a,b,c){var d=this;A(b,function(b){if(!b)return!1;var e=b.name,k=Oa(e),f;R(bc,e)&&"yield"!==a.tagName.toLowerCase()?f=cb(a,d,e,b.value):D.hasExpr(b.value)&&(f={dom:a,expr:b.value,attr:e,bool:k});c(b,f)})}function na(a){var b=this.__.isAnonymous;E(this,"isMounted",a);b||(a?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function cc(a,
b,c,d){var e=a.__,h=e.root;h._tag=a;Fa.apply(e.parent,[h,h.attributes,function(b,c){!e.isAnonymous&&db.isPrototypeOf(c)&&(c.tag=a);b.expr=c;e.instAttrs.push(b)}]);v(e.impl.attrs,function(a,b){e.implAttrs.push({name:a,value:b})});Fa.apply(a,[h,e.implAttrs,function(a,b){b?c.push(b):l(h,a.name,a.value)}]);Va.apply(a,[e.isLoop,e.parent,e.isAnonymous,d,e.instAttrs]);var k=aa("__global_mixin");if(k&&!e.skipAnonymous)for(var f in k)k.hasOwnProperty(f)&&a.mixin(k[f]);e.impl.fn&&e.impl.fn.call(a,d);e.skipAnonymous||
a.trigger("before-mount");A(fb.apply(a,[b,e.isAnonymous]),function(a){return c.push(a)});a.update(e.item);if(!e.isAnonymous&&!e.isInline)for(;b.firstChild;)h.appendChild(b.firstChild);E(a,"root",h);!e.skipAnonymous&&a.parent?(b=S(a.parent),b.one(b.isMounted?"updated":"mount",function(){na.call(a,!0)})):na.call(a,!0);a.__.wasCreated=!0;return a}function dc(a,b,c){var d=a.__,e=d.root,h=X.indexOf(a),k=e.parentNode;d.skipAnonymous||a.trigger("before-unmount");v(d.impl.attrs,function(a){Pa(a,"riot-")&&
(a=a.slice(5));e.removeAttribute(a)});a.__.listeners.forEach(function(a){Object.keys(a["__riot-events__"]).forEach(function(b){a.removeEventListener(b,a["__riot-events__"][b])})});-1!==h&&X.splice(h,1);if(d.parent&&!d.isAnonymous){var f=S(d.parent);d.isVirtual?Object.keys(a.tags).forEach(function(b){return O(f.tags,b,a.tags[b])}):O(f.tags,d.tagName,a)}a.__.virts&&A(a.__.virts,function(a){a.parentNode&&a.parentNode.removeChild(a)});ma(c);A(d.instAttrs,function(a){return a.expr&&a.expr.unmount&&a.expr.unmount()});
b?Q(e,""):k&&k.removeChild(e);if(d.onUnmount)d.onUnmount();a.isMounted||na.call(a,!0);na.call(a,!1);delete e._tag;return a}function ja(a,b,c){void 0===a&&(a={});void 0===b&&(b={});var d=b.context||{},e=u({},b.opts),h=b.parent,k=b.isLoop,f=!!b.isAnonymous,g=xa.skipAnonymousTags&&f,l=b.item,m=b.index,x=[],r=b.root;b=b.tagName||ia(r);var n="virtual"===b,w=!n&&!a.tmpl,z;g||oa(d);a.name&&r._tag&&r._tag.unmount(!0);E(d,"isMounted",!1);E(d,"__",{impl:a,root:r,skipAnonymous:g,implAttrs:[],isAnonymous:f,instAttrs:[],
innerHTML:c,tagName:b,index:m,isLoop:k,isInline:w,item:l,parent:h,listeners:[],virts:[],wasCreated:!1,tail:null,head:null});E(d,"_riot_id",gb());E(d,"root",r);u(d,{opts:e},l);E(d,"parent",h||null);E(d,"tags",{});E(d,"refs",{});w||k&&f?z=r:(n||(r.innerHTML=""),z=Jb(a.tmpl,c,ga(r)));E(d,"update",function(a){var b=d.__,c={},e=d.isMounted&&!b.skipAnonymous;b.isAnonymous&&b.parent&&u(d,b.parent);u(d,a);Va.apply(d,[b.isLoop,b.parent,b.isAnonymous,c,b.instAttrs]);e&&d.isMounted&&G(d.shouldUpdate)&&!d.shouldUpdate(a,
c)||(u(d.opts,c),e&&d.trigger("update",a),Ua.call(d,x),e&&d.trigger("updated"));return d});E(d,"mixin",function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return Sb.apply(void 0,[d].concat(a))});E(d,"mount",function(){return cc(d,z,x,e)});E(d,"unmount",function(a){return dc(d,a,x)});return d}function Ca(a,b,c,d){var e=H[b];b=H[b]["class"];b=d||(b?C(b.prototype):{});d=a._innerHTML=a._innerHTML||a.innerHTML;c=u({root:a,opts:c,context:b},{parent:c?c.parent:null});var h;e&&a&&(h=ja(e,c,
d));h&&h.mount&&(h.mount(!0),R(X,h)||X.push(h));return h}function hb(a){var b=arguments,c=a.source,d=a.global?"g":"";a.ignoreCase&&(d+="i");a.multiline&&(d+="m");for(var e=1;e<arguments.length;e++)c=c.replace("@","\\"+b[e]);return new RegExp(c,d)}function ec(a,b){for(var c=new RegExp(ib,"g"),d,e=I.skipRegex,h=b|0,k=[[]],f=[],g=c,l=g.lastIndex=h,m,x,r,n,w;w=g.exec(a);){r=w.index;n=g.lastIndex;m="";if(x=w[1]){if("{"===x)f.push("}");else if("}"===x){if(f.pop()!==x)throw Error("Unexpected '}'");"`"===
f[f.length-1]&&(x=f.pop())}else"/"===x&&(n=e(a,r),n>r+1&&(m=a.slice(r,n)));if("`"===x){a:{g=a;m=f;x=/[`$\\]/g;for(x.lastIndex=n;x.exec(g);){n=x.lastIndex;w=g[n-1];if("`"===w)break a;if("$"===w&&"{"===g[n]){m.push("`","}");n+=1;break a}x.lastIndex++}throw Error("Unclosed ES6 template");}m=a.slice(r,n);g=f.length?d||(d=new RegExp(fc,"g")):c}}else m=w[0],"/"===m[0]?(m="*"===m[1]?" ":"",a=a.slice(h,r)+m+a.slice(n),n=r+m.length,m=""):2===m.length&&(m="");m&&(k[0].push(a.slice(l,r)),k.push(m),l=n);g.lastIndex=
n}k[0].push(a.slice(l));return k}function jb(a){var b,c=gc;1!==a.indexOf("\r")&&(a=a.replace(/\r\n?/g,"\n"));for(c.lastIndex=0;b=c.exec(a);)"<"===b[0][0]&&(a=RegExp.leftContext+RegExp.rightContext,c.lastIndex=b[3]+1);return a}function kb(a,b){var c=[],d,e,h;lb.lastIndex=0;for(a=a.replace(/\s+/g," ");d=lb.exec(a);){var k=d[1].toLowerCase();(d=d[2])?('"'!==d[0]&&(d='"'+("'"===d[0]?d.slice(1,-1):d)+'"'),"type"===k&&hc.test(d)?e=d:(ic.test(d)&&("value"===k&&(h=1),-1!==jc.indexOf(k)&&(k="riot-"+k)),c.push(k+
"="+d))):c.push(k)}e&&(h&&(e='"'+b._bp[0]+"'"+e.slice(1,-1)+"'"+b._bp[1]+'"'),c.push("type="+e));return c.join(" ")}function mb(a,b,c){var d=c._bp;if(a&&d[4].test(a)){var e=b.expr&&(b.parser||b.type)?pa:0;a=I.split(a,0,d);for(var h,k=1;k<a.length;k+=2)h=a[k],"^"===h[0]?h=h.slice(1):e&&(h=e(h,b).trim(),";"===h.slice(-1)&&(h=h.slice(0,-1))),a[k]="\u0001#"+(c.push(h)-1)+d[1];a=a.join("")}return a}function nb(a,b){b.length&&(a=a.replace(kc,function(a,d){return b._bp[0]+b[d].trim().replace(/[\r\n]+/g,
" ").replace(/"/g,"\u2057")}));return a}function Ga(a,b,c){if(!/\S/.test(a))return"";a=mb(a,b,c).replace(lc,function(a,b,d,f){b=b.toLowerCase();f=f&&!mc.test(b)?"></"+b:"";d&&(b+=" "+kb(d,c));return"<"+b+f+">"});if(!b.whitespace){var d=[];/<pre[\s>]/.test(a)&&(a=a.replace(nc,function(a){d.push(a);return"\u0002"}));a=a.trim().replace(/\s+/g," ");d.length&&(a=a.replace(/\u0002/g,function(){return d.shift()}))}b.compact&&(a=a.replace(oc,"><$1"));return nb(a,c).replace(Ha,"")}function pc(a){function b(a){for(var b=
/[{}]/g,c=1;c&&b.exec(a);)"{"===a[b.lastIndex-1]?++c:--c;return c?a.length:b.lastIndex}var c=[],d,e,h,k,f,g,l=RegExp,m=ec(a);for(a=m.shift().join("<%>");d=a.match(qc);)c.push(l.leftContext),a=l.rightContext,h=b(a),k=d[1],f=d[2]||"",g=d[3],g=(e=!/^(?:if|while|for|switch|catch|function)$/.test(g))?d[0].replace(k,"this."+g+" ="+f+" function"):d[0],c.push(g,a.slice(0,h)),a=a.slice(h),e&&!/^\s*.\s*bind\b/.test(a)&&c.push(".bind(this)");c.length&&(a=c.join("")+a);m.length&&(a=a.replace(/<%>/g,function(){return m.shift()}));
return a}function pa(a,b,c,d,e){if(!/\S/.test(a))return"";c||(c=b.type);return(b.parser||c&&ca._req("js."+c,!0)||pc)(a,d,e).replace(/\r\n?/g,"\n").replace(Ha,"")}function rc(a,b){return b.replace(sc,function(b,d,e){if(!e)return b;e=e.replace(/[^,]+/g,function(b){var c=b.trim();return 0!==c.indexOf(a)&&c&&"from"!==c&&"to"!==c&&"%"!==c.slice(-1)?c=0>c.indexOf(":scope")?a+" "+c+',[data-is="'+a+'"] '+c:c.replace(":scope",a)+","+c.replace(":scope",'[data-is="'+a+'"]'):b});return d?d+" "+e:e})}function ob(a,
b,c,d){d=d||{};c&&"css"!==c&&(a=ca._req("css."+c,!0)(b,a,d.parserOpts||{},d.url));a=a.replace(I.R_MLCOMMS,"").replace(/\s+/g," ").trim();b&&(a=rc(b,a));return a}function Ia(a,b){if(!a)return"''";a="'"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'";return b&&-1!==a.indexOf("\n")?a.replace(/\n/g,"\\n"):a}function tc(a,b,c,d,e,h,k){k=k.debug?",\n  ":", ";var f="});";e&&"\n"!==e.slice(-1)&&(f="\n"+f);return h+"riot.tag2('"+a+"'"+k+Ia(b,1)+k+Ia(c)+k+Ia(d)+", function(opts) {\n"+e+f}function uc(a){if(/<[-\w]/.test(a)){var b,
c=a.lastIndexOf("<");for(b=a.length;-1!==c;){if(b=a.slice(c,b).match(vc))return c+=b.index+b[0].length,b=a.slice(0,c),"<-/>\n"===b.slice(-5)&&(b=b.slice(0,-5)),[b,a.slice(c)];b=c;c=a.lastIndexOf("<",c-1)}}return["",a]}function pb(a){return a&&(a=(a=a.match(wc))&&(a[2]||a[3]))?a.replace("text/",""):""}function qb(a,b){if(a){var c=a.match(RegExp("\\s"+b+xc,"i"));if(c=c&&c[1])return/^['"]/.test(c)?c.slice(1,-1):c}return""}function rb(a){return(a=qb(a,"options").replace(/&amp;/g,"&").replace(/&lt;/g,
"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'"))?JSON.parse(a):null}function yc(a,b,c,d){return ca._req("html."+c,!0)(a,d,b)}function Ja(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){4===d.readyState&&(200===d.status||!d.status&&d.responseText.length?b(d.responseText,c,a):da.error('"'+a+'" not found'))};d.onerror=function(a){return da.error(a)};d.open("GET",a,!0);d.send("")}function qa(a,b){if("string"===typeof a){var c=g("script"),d=document.documentElement;
b&&(a+="\n//# sourceURL="+b+".js");c.text=a;d.appendChild(c);d.removeChild(c)}}function zc(a,b){function c(){ra.trigger("ready");sb=!0;a&&a()}function d(a,b,d){a=ea.compile(a,b,d);qa(a,d);--h||c()}var e=t('script[type="riot/tag"]'),h=e.length;if(h)for(var k=0;k<e.length;++k){var f=e[k],g=u({template:f.getAttribute("template")},b),l=f.getAttribute("src")||f.getAttribute("data-src");l?Ja(l,d,g):d(f.innerHTML,g)}else c()}function da(a,b,c){if("string"===typeof a){M(b)&&(c=b,b=!1);if(/^\s*</m.test(a)){var d=
ea.compile(a,c);!0!==b&&qa(d);G(b)&&b(d,a,c);return d}Ja(a,function(a,c,d){var e=ea.compile(a,c,d);qa(e,d);b&&b(e,a,c)},c)}else if(T(a)){var e=a.length;a.forEach(function(a){Ja(a,function(a,c,d){var h=ea.compile(a,c,d);qa(h,d);e--;!e&&b&&b(h,a,c)},c)})}else{G(a)?(c=b,b=a):(c=a,b=void 0);if(sb)return b&&b();if(ra){if(b)ra.on("ready",b)}else ra=oa(),zc(b,c)}}var X=[],H={},bc=["ref","data-ref"],Bb=/^xlink:(\w+)/,sa="undefined"===typeof window?void 0:window,Ac=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,
Bc=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,Pb=/^on/,Cb=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,Ta={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},Db=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,Aa=(sa&&sa.document||{}).documentMode|0,ta,Ka,La={},tb=
[],Ma=!1;sa&&(ta=function(){var a=g("style"),b=f("style[type=riot]");l(a,"type","text/css");b?(b.id&&(a.id=b.id),b.parentNode.replaceChild(a,b)):document.head.appendChild(a);return a}(),Ka=ta.styleSheet);var W={styleNode:ta,add:function(a,b){b?La[b]=a:tb.push(a);Ma=!0},inject:function(){if(sa&&Ma){Ma=!1;var a=Object.keys(La).map(function(a){return La[a]}).concat(tb).join("\n");Ka?Ka.cssText=a:ta.innerHTML=a}}},ub=function(){function a(a,b){for(;0<=--b&&/\s/.test(a[b]););return b}var b="case default do else in instanceof prefix return typeof void yield".split(" "),
c=b.reduce(function(a,b){return a+b.slice(-1)},""),d=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,e=/[$\w]/;return function(h,f){var k=/.*/g,g=k.lastIndex=f++;if(k=k.exec(h)[0].match(d)){var k=g+k[0].length,g=a(h,g),l=h[g];if(0>g||~"[{(,;:?=|&!^~>%*/".indexOf(l))return k;if("."===l)"."===h[g-1]&&(f=k);else if("+"===l||"-"===l){if(h[--g]!==l||0>(g=a(h,g))||!e.test(h[g]))f=k}else if(~c.indexOf(l)){for(l=g+1;0<=--g&&e.test(h[g]););~b.indexOf(h.slice(g+1,l))&&(f=k)}}return f}}(),
I=function(a){function b(a){return a}function c(a,b){b||(b=z);return new RegExp(a.source.replace(/{/g,b[2]).replace(/}/g,b[3]),a.global?"g":"")}function d(a){if("{ }"===a)return r;var b=a.split(" ");if(2!==b.length||l.test(a))throw Error('Unsupported brackets "'+a+'"');b=b.concat(a.replace(n,"\\").split(" "));b[4]=c(1<b[1].length?/{[\S\s]*?}/:r[4],b);b[5]=c(3<a.length?/\\({|})/g:r[5],b);b[6]=c(r[6],b);b[7]=RegExp("\\\\("+b[3]+")|([[({])|("+b[3]+")|"+m,"g");b[8]=a;return b}function e(a){return a instanceof
RegExp?w(a):z[a]}function h(a){(a||(a="{ }"))!==z[8]&&(z=d(a),w="{ }"===a?b:c,z[9]=w(r[9]));p=a}var f=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,g=f.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,l=/[\x00-\x1F<>a-zA-Z0-9'",;\\]/,n=/(?=[[\]()*+?.^$|])/g,m=f.source+"|"+/(\/)(?![*\/])/.source,q={"(":RegExp("([()])|"+m,"g"),"[":RegExp("([[\\]])|"+
m,"g"),"{":RegExp("([{}])|"+m,"g")},r=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+m,"g"),"{ }",/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],p=a,w,z=[],K;e.split=function(a,b,c){function d(a){n&&(a=n+a,n="");b||k?h.push(a&&a.replace(c[5],"$1")):h.push(a)}function e(c,d,e){e&&(d=ub(a,c));b&&d>c+2&&(B="\u2057"+m.length+"~",m.push(a.slice(c,d)),n+=a.slice(g,c)+B,g=d);return d}c||(c=z);var h=[],f,k,g,l,w=c[6],m=[],n="",B,P;for(k=g=
w.lastIndex=0;f=w.exec(a);){P=w.lastIndex;l=f.index;if(k){if(f[2]){l=f[2];var r=q[l],p=1;for(r.lastIndex=P;f=r.exec(a);)if(f[1])if(f[1]===l)++p;else{if(!--p)break}else r.lastIndex=e(f.index,r.lastIndex,f[2]);w.lastIndex=p?a.length:r.lastIndex;continue}if(!f[3]){w.lastIndex=e(l,P,f[4]);continue}}f[1]||(d(a.slice(g,l)),g=w.lastIndex,w=c[6+(k^=1)],w.lastIndex=g)}a&&g<a.length&&d(a.slice(g));h.qblocks=m;return h};e.hasExpr=function(a){return z[4].test(a)};e.loopKeys=function(a){var b=a.match(z[9]);return b?
{key:b[1],pos:b[2],val:z[0]+b[3].trim()+z[1]}:{val:a.trim()}};e.array=function(a){return a?d(a):z};Object.defineProperty(e,"settings",{set:function(a){var b;a=a||{};b=a.brackets;Object.defineProperty(a,"brackets",{set:h,get:function(){return p},enumerable:!0});K=a;h(b)},get:function(){return K}});e.settings="undefined"!==typeof riot&&riot.settings||{};e.set=h;e.skipRegex=ub;e.R_STRINGS=f;e.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g;e.S_QBLOCKS=g;e.S_QBLOCK2=m;return e}(),D=function(){function a(a,
d){return a?(k[a]||(k[a]=c(a))).call(d,b.bind({data:d,tmpl:a})):a}function b(b,c){b.riotData={tagName:c&&c.__&&c.__.tagName,_riot_id:c&&c._riot_id};a.errorHandler?a.errorHandler(b):"undefined"!==typeof console&&"function"===typeof console.error&&(console.error(b.message),console.log("<%s> %s",b.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}function c(a){a=d(a);"try{return "!==a.slice(0,11)&&(a="return "+a);return new Function("E",a+";")}function d(a){a=I.split(a.replace(g,'"'),
1);var b=a.qblocks,c;if(2<a.length||a[0]){var d,f,h=[];for(d=f=0;d<a.length;++d)(c=a[d])&&(c=d&1?e(c,1,b):'"'+c.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(h[f++]=c);c=2>f?h[0]:"["+h.join(",")+'].join("")'}else c=e(a[1],0,b);b.length&&(c=c.replace(l,function(a,c){return b[c].replace(/\r/g,"\\r").replace(/\n/g,"\\n")}));return c}function e(a,b,c){if(a=a.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var d=[],e=0,h;a&&(h=a.match(n))&&!h.index;){var k,
g,l=/,|([[{(])|$/g;a=RegExp.rightContext;for(k=h[2]?c[h[2]].slice(1,-1).trim().replace(/\s+/g," "):h[1];g=(h=l.exec(a))[1];){var r=l,B=1,p=m[g];for(p.lastIndex=r.lastIndex;h=p.exec(a);)if(h[0]===g)++B;else if(!--B)break;r.lastIndex=B?a.length:p.lastIndex}g=a.slice(0,h.index);a=RegExp.rightContext;d[e++]=f(g,1,k)}a=e?1<e?"["+d.join(",")+'].join(" ").trim()':d[0]:f(a,b)}return a}function f(a,b,c){var d;a=a.replace(r,function(a,b,c,e,f){c&&(e=d?0:e+a.length,"this"!==c&&"global"!==c&&"window"!==c?(a=
b+'("'+c+p+c,e&&(d="."===(f=f[e])||"("===f||"["===f)):e&&(d=!q.test(f.slice(e))));return a});d&&(a="try{return "+a+"}catch(e){E(e,this)}");c?a=(d?"function(){"+a+"}.call(this)":"("+a+")")+'?"'+c+'":""':b&&(a="function(v){"+(d?a.replace("return ","v="):"v=("+a+")")+';return v||v===0?v:""}.call(this)');return a}var k={};a.hasExpr=I.hasExpr;a.loopKeys=I.loopKeys;a.clearCache=function(){k={}};a.errorHandler=null;var g=/\u2057/g,l=/\u2057(\d+)~/g,n=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,
m={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},p='"in this?this:'+("object"!==typeof window?"global":"window")+").",r=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,q=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;a.version=I.version="v3.0.8";return a}(),oa=function(a){a=a||{};var b={},c=Array.prototype.slice;Object.defineProperties(a,{on:{value:function(c,e){"function"==typeof e&&(b[c]=b[c]||[]).push(e);
return a},enumerable:!1,writable:!1,configurable:!1},off:{value:function(c,e){if("*"!=c||e)if(e)for(var d=b[c],f=0,g;g=d&&d[f];++f)g==e&&d.splice(f--,1);else delete b[c];else b={};return a},enumerable:!1,writable:!1,configurable:!1},one:{value:function(b,c){function d(){a.off(b,d);c.apply(a,arguments)}return a.on(b,d)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(d){var e=arguments,f=arguments.length-1,k=Array(f),g;for(g=0;g<f;g++)k[g]=e[g+1];e=c.call(b[d]||[],0);for(g=0;f=e[g];++g)f.apply(a,
k);b["*"]&&"*"!=d&&a.trigger.apply(a,["*",d].concat(k));return a},enumerable:!1,writable:!1,configurable:!1}});return a},xa=u(C(I.settings),{skipAnonymousTags:!0,autoUpdate:!0}),Cc=Object.freeze({$$:t,$:f,createDOMPlaceholder:J,mkEl:g,setAttr:l,toggleVisibility:q,getAttr:function(a,b){return a.getAttribute(b)},remAttr:function(a,b){a.removeAttribute(b)},setInnerHTML:Q,walkAttrs:v,createFrag:F,safeInsert:y,styleObjectToString:ua,walkNodes:va}),Dc=Object.freeze({isBlank:N,isFunction:G,isObject:M,isSvg:ga,
isWritable:L,isArray:T,isBoolAttr:Oa,isNil:Na,isString:U,isUndefined:n}),gb=function(){var a=-1;return function(){return++a}}(),Ec=Object.freeze({contains:R,each:A,getPropDescriptor:p,startsWith:Pa,uid:gb,defineProperty:E,objectCreate:C,extend:u,toCamel:Qa,warn:Ra}),Fb=/<yield\b/i,Ib=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/ig,Gb=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/ig,Hb=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/ig,Lb={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},
Kb=Aa&&10>Aa?Ac:Bc,Ya={},Rb=Ya.__global_mixin={},Qb=0,Fc=Object.freeze({Tag:Wa,tag:Ba,tag2:Xa,mount:Da,mixin:aa,update:Za,unregister:$a,version:"v3.9.0"}),db={init:function(a,b,c,d){this.dom=a;this.attr=c;this.rawValue=d;this.parent=b;this.hasExp=D.hasExpr(d);return this},update:function(){var a=this.value,b=this.parent&&S(this.parent),c=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?D(this.rawValue,this.parent):this.rawValue;!N(a)&&b&&O(b.refs,a,c);!N(this.value)&&U(this.value)?(b&&V(b.refs,
this.value,c,null,this.parent.__.index),this.value!==a&&l(this.dom,this.attr,this.value)):this.dom.removeAttribute(this.attr);this.dom.__ref||(this.dom.__ref=c)},unmount:function(){var a=this.tag||this.dom,b=this.parent&&S(this.parent);!N(this.value)&&b&&O(b.refs,this.value,a)}},ac={init:function(a,b,c){a.removeAttribute("if");u(this,{tag:b,expr:c,stub:J(),pristine:a});b=a.parentNode;b.insertBefore(this.stub,a);b.removeChild(a);return this},update:function(){(this.value=D(this.expr,this.tag))&&!this.current?
(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=fb.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(ma(this.expressions),this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current),this.current=null,this.expressions=[]);this.value&&Ua.call(this.tag,this.expressions)},unmount:function(){ma(this.expressions||[])}},Gc=Object.freeze({arrayishAdd:V,getTagName:ia,
inheritParentProps:wa,mountTo:Ca,selectTags:Z,arrayishRemove:O,getTag:ha,initChildTag:ya,moveChildTag:ab,makeReplaceVirtual:za,getImmediateCustomParentTag:S,makeVirtual:ka,moveVirtual:bb,unmountAll:ma,createIfDirective:eb,createRefDirective:cb}),vb=xa,wb={tmpl:D,brackets:I,styleManager:W,vdom:X,styleNode:W.styleNode,dom:Cc,check:Dc,misc:Ec,tags:Gc},Hc=Ba,Ic=aa,Jc=oa,Kc=u({},Fc,{observable:oa,settings:vb,util:wb}),xb=Object.freeze({settings:vb,util:wb,Tag:Wa,tag:Hc,tag2:Xa,mount:Da,mixin:Ic,update:Za,
unregister:$a,version:"v3.9.0",observable:Jc,"default":Kc}),ca=function(a){function b(b){var c=a[b];if(c)return c;throw Error('Parser "'+b+'" not loaded.');}function c(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function d(a,d,e,f){e=c({pretty:!0,filename:f,doctype:"html"},e);return b(a).render(d,e)}var e={html:{jade:function(a,b,c){console.log('DEPRECATION WARNING: jade was renamed "pug" - The jade parser will be removed in riot@3.0.0!');return d("jade",a,b,c)},pug:function(a,
b,c){return d("pug",a,b,c)}},css:{less:function(a,d,e,f){var h;e=c({sync:!0,syncImport:!0,filename:f},e);b("less").render(d,e,function(a,b){if(a)throw a;h=b.css});return h}},js:{es6:function(a,d,e){return b("Babel").transform(a,c({plugins:[["transform-es2015-template-literals",{loose:!0}],"transform-es2015-literals","transform-es2015-function-name","transform-es2015-arrow-functions","transform-es2015-block-scoped-functions",["transform-es2015-classes",{loose:!0}],"transform-es2015-object-super","transform-es2015-shorthand-properties",
"transform-es2015-duplicate-keys",["transform-es2015-computed-properties",{loose:!0}],["transform-es2015-for-of",{loose:!0}],"transform-es2015-sticky-regex","transform-es2015-unicode-regex","check-es2015-constants",["transform-es2015-spread",{loose:!0}],"transform-es2015-parameters",["transform-es2015-destructuring",{loose:!0}],"transform-es2015-block-scoping","transform-es2015-typeof-symbol",["transform-es2015-modules-commonjs",{allowTopLevelThis:!0}],["transform-regenerator",{async:!1,asyncGenerators:!1}]]},
d)).code},buble:function(a,d,e){d=c({source:e,modules:!1},d);return b("buble").transform(a,d).code},coffee:function(a,d){return b("CoffeeScript").compile(a,c({bare:!0},d))},livescript:function(a,d){return b("livescript").compile(a,c({bare:!0,header:!1},d))},typescript:function(a,c){return b("typescript")(a,c)},none:function(a){return a}}};e.js.javascript=e.js.none;e.js.coffeescript=e.js.coffee;e._req=function(a){var b=a.split(".");if(2!==b.length)throw Error("Bad format for parsers._req");if(b=e[b[0]][b[1]])return b;
throw Error('Parser "'+a+'" not found.');};e.utils={extend:c};return e}(window||global),yb=/'[^'\n\r\\]*(?:\\(?:\r\n?|[\S\s])[^'\n\r\\]*)*'/.source,ib=[/\/\*[^*]*\*+(?:[^*/][^*]*\*+)*\//.source,"//.*",yb,yb.replace(/'/g,'"'),"([/`])"].join("|"),fc=ib.slice(0,-2)+"{}])",fa=ca.utils.extend,zb=/"[^"\n\\]*(?:\\[\S\s][^"\n\\]*)*"|'[^'\n\\]*(?:\\[\S\s][^'\n\\]*)*'/.source,Ab=I.R_STRINGS.source,lb=/ *([-\w:\xA0-\xFF]+) ?(?:= ?('[^']*'|"[^"]*"|\S+))?/g,gc=RegExp(/\x3c!--(?!>)[\S\s]*?--\x3e/.source+"|"+zb,
"g"),lc=/<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^"'/>]*(?:(?:"[^"]*"|'[^']*'|\/[^>])[^'"/>]*)*)|\s*)(\/?)>/g,oc=/>[ \t]+<(-?[A-Za-z]|\/[-A-Za-z])/g,jc=["style","src","d","value"],mc=/^(?:input|img|br|wbr|hr|area|base|col|embed|keygen|link|meta|param|source|track)$/,nc=/<pre(?:\s+(?:[^">]*|"[^"]*")*)?>([\S\s]+?)<\/pre\s*>/gi,hc=/^"(?:number|date(?:time)?|time|month|email|color)\b/i,Lc=/^\s*import(?!\w)(?:(?:\s|[^\s'"])*)['|"].*\n?/gm,Ha=/[ \t]+$/gm,ic=hb(/@#\d/,"x01"),kc=hb(/@#(\d+)/g,"x01"),qc=/^[ \t]*(((?:async|\*)\s*)?([$_A-Za-z][$\w]*))\s*\([^()]*\)\s*{/m,
sc=RegExp("([{}]|^)[; ]*((?:[^@ ;{}][^{}]*)?[^@ ;{}:] ?)(?={)|"+zb,"g"),wc=/\stype\s*=\s*(?:(['"])(.+?)\1|(\S+))/i,xc="\\s*=\\s*("+Ab+"|{[^}]+}|\\S+)",vc=/\/>\n|^<(?:\/?-?[A-Za-z][-\w\xA0-\xFF]*\s*|-?[A-Za-z][-\w\xA0-\xFF]*\s+[-\w:\xA0-\xFF][\S\s]*?)>\n/,Mc=RegExp(/^([ \t]*)<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^'"/>]+(?:(?:@|\/[^>])[^'"/>]*)*)|\s*)?(?:\/>|>[ \t]*\n?([\S\s]*)^\1<\/\2\s*>|>(.*)<\/\2\s*>)/.source.replace("@",Ab),"gim"),Nc=/<script(\s+[^>]*)?>\n?([\S\s]*?)<\/script\s*>/gi,Oc=/<style(\s+[^>]*)?>\n?([\S\s]*?)<\/style\s*>/gi,
ea={compile:function(a,b,c){var d=[],e;b||(b={});b.parserOptions=fa({template:{},js:{},style:{}},b.parserOptions||{});e=b.exclude?function(a){return 0>b.exclude.indexOf(a)}:function(){return 1};c||(c="");var f=I.array(b.brackets);b.template&&(a=yc(a,c,b.template,b.parserOptions.template));a=jb(a).replace(Mc,function(a,g,h,l,m,n){var k="",p="",q=a="",t=[];t._bp=f;h=h.toLowerCase();l=l&&e("attribs")?nb(kb(mb(l,b,t),t),t):"";(m||(m=n))&&/\S/.test(m)&&(n?e("html")&&(a=Ga(n,b,t)):(m=m.replace(RegExp("^"+
g,"gm"),""),m=m.replace(Nc,function(a,d,f){if(e("js")){a=b;var g=c,h=pb(d),l=qb(d,"src"),m=fa({},a.parserOptions.js);d=l?!1:pa(f,a,h,fa(m,rb(d)),g);d&&(k+=(k?"\n":"")+d)}return""}),m=m.replace(Oc,function(a,d,f){if(e("css")){var g=(a=p)?" ":"",k=b,l=c,m=h,n=fa({},k.parserOptions.style),l={parserOpts:fa(n,rb(d)),url:l};d=ob(f,m,pb(d)||k.style,l);p=a+(g+d)}return""}),g=uc(m.replace(Ha,"")),e("html")&&(a=Ga(g[0],b,t)),e("js")&&((m=pa(g[1],b,null,null,c))&&(k+=(k?"\n":"")+m),k=k.replace(Lc,function(a){q+=
a.trim()+"\n";return""}))));k=/\S/.test(k)?k.replace(/\n{3,}/g,"\n\n"):"";return b.entities?(d.push({tagName:h,html:a,css:p,attribs:l,js:k,imports:q}),""):tc(h,a,p,l,k,q,b)});return b.entities?d:a},compileHTML:function(a,b,c){Array.isArray(b)?(c=b,b={}):(c||(c=[]),b||(b={}));c._bp=I.array(b.brackets);return Ga(jb(a),b,c)},compileCSS:function(a,b,c){b&&"object"===typeof b?(c=b,b=""):c||(c={});return ob(a,c.tagName,b,c)},compileJS:function(a,b,c,d){"string"===typeof b&&(d=c,c=b,b={});c&&"object"===
typeof c&&(d=c,c="");d||(d={});return pa(a,b||{},c,d.parserOptions,d.url)},parsers:ca,version:"v3.4.0"},ra,sb,Pc=ea.parsers;da.error=function(a){throw Error(a);};return u({},xb,{mount:function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];var c;da(function(){c=Da.apply(xb,a)});return c},compile:da,parsers:Pc})});
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){if(e.get||e.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var e=0,d={next:function(){if(e<a.length){var f=e++;return{value:b(f,a[f]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(a,b,e,d){if(b){e=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var f=a[d];f in e||(e[f]={});e=e[f]}a=a[a.length-1];d=e[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6-impl","es3");
riot.tag2("datatable",'<div class="panel panel-default table-responsive" riot-style="margin-bottom: {opts.marginBottom}"> <table class="table {opts.tableClass}"> <thead if="{showTableHeader}"> <tr> <th each="{column, index in columns}" riot-style="width: {column.width}"> {tr(column.label)} </th> </tr> </thead> <tbody> <tr if="{!data || (Array.isArray(data) && data.length == 0) || Object.keys(data).length == 0}"> <td colspan="{columns.length}">{message}</td> </tr> <tr class="{rowClassCallback(elem)}" each="{elem, index in data}"> <td each="{column, index2 in columns}" colspan="{column.colspan}" if="{column.showBody == undefined}" riot-style="width: {column.width}"> <virtual if="{column.linkCallback == undefined}"> <span if="{column.callback != undefined && column.type == \'subtable\'}"> <datatable message="{column.message}" columns="{column.callback(elem, index)}" data="{elem}" actions="{actions}" no-table-footer no-table-header margin-bottom="0"></datatable> </span> <span if="{column.callback != undefined && column.type != \'subtable\'}"> {column.callback(elem, index)} </span> <span if="{column.callback == undefined && elem[column.value] != undefined}"> {elem[column.value]} </span> <span if="{column.callback == undefined && elem[column.label] != undefined}"> {elem[column.label]} </span> </virtual> <a if="{column.linkCallback != undefined}" href="{column.linkCallback(elem, index)}" target="_blank"> <span if="{column.callback != undefined && column.type != \'subtable\'}"> {column.callback(elem, index)} </span> <span if="{column.callback == undefined && elem[column.label] != undefined}"> {elem[column.label]} </span> </a> <virtual each="{action in actions}" if="{column.label == \'Actions\'}"> <a if="{action.action == \'callback\'}" disabled="{action.isDisabledCallback !== undefined && action.isDisabledCallback(elem)}" onclick="{action.callback.bind(this, elem)}" class="btn btn-sm btn-{action.btnType}"> {(action.labelCallback !== undefined && action.labelCallback(elem)) || tr(action.label)}</a> <a href="{action.url}/?id={encodeURIComponent(elem[\'ID\'])}" if="{action.action == \'link\'}" class="btn-flat">{tr(action.label)}</a> <a data-toggle="modal" data-target="{action.target}" onclick="{modalOpened}" if="{action.action == \'modal-link\'}" class="btn">{tr(action.label)}</a> </virtual> </td> </tr> </tbody> <tfoot if="{showTableFooter}"> <tr> <th each="{column, index in columns}"> {tr(column.label)} </th> </tr> </tfoot> </table> </div>',"",
"",function(a){var b=this;b.columns=a.columns||[];b.columnNames=a.columnNames;b.events=a.events||riot.observable();b.disableLinking="true"===a.disableLinking;b.rowClassCallback=a.rowClassCallback||function(){};b.showTableHeader=void 0===a.noTableHeader;b.showTableFooter=void 0===a.noTableFooter;b.data=a.data;b.tr=a.trFunc||function(b){return b};b.modalOpened=function(a){b.events.trigger("modal-opened",a,this.elem,b)};b.linkBaseURL=a.linkBaseurl||"";b.actions=a.actions;b.url=void 0==a.url?"":replacePlaceholdersWithQueryVariables(a.url);
b.message="No data loaded or available yet.";b.on("mount",function(){b.events.on("create",e);void 0!==a.actions&&(b.actions=a.actions)});b.on("unmount",function(){b.events.off("create",e)});b.on("update",function(){void 0!==a.message&&(b.message=a.message);void 0!==a.actions&&(b.actions=a.actions)});var e=function(a){b.data.unshift(a);b.update()}});riot.tag2("linkchecker-form",'<form onsubmit="{submit}" style="margin-bottom: 20px;"> <div class="form-group"> <label>Website URL</label> <input ref="websiteURL" type="url" class="form-control" placeholder="The URL of the website to check, for example \'https://www.marcobeierer.com\'." disabled="{disabled}" required> </div> <div class="form-group"> <label>Token</label> <textarea ref="token" class="form-control" style="min-height: 100px" placeholder="A token is only necessary to check a website with more than 500 internal or external links or if you like to use the paid extra features." disabled="{disabled}"></textarea> </div> <button class="btn btn-default" type="submit" disabled="{disabled}">Check your website</button> </form>',
"","",function(a){var b=this;b.disabled=!1;b.on("mount",function(){void 0!=a.websiteUrl&&(this.refs.websiteURL.value=a.websiteUrl)});this.submit=function(b){b.preventDefault();a.linkchecker.trigger("start",this.refs.websiteURL.value,this.refs.token.value)}.bind(this);a.linkchecker.on("started",function(){b.disabled=!0});a.linkchecker.on("stopped",function(){b.disabled=!1;b.update()})});riot.tag2("linkchecker-scheduler",'<div class="alert alert-{messageType}"> <raw content="{message}"></raw> </div> <div class="panel panel-primary" if="{!registered}"> <div class="panel-heading">Register your website</div> <div class="panel-body"> <p>If you register your site to the scheduler, a link check is automatically triggered once a day and you receive an email notification with a summary report after the check has finished. If a dead link was found, you could use the default Link Checker interface to fetch the detailed results.</p> <form onsubmit="{register}"> <input type="hidden" name="Service" value="Link Checker"> <input type="hidden" name="IntervalInNs" value="86400000000000"> <div style="display: none;" class="form-group"> <label>Website URL</label> <input class="form-control" name="URL" type="text" riot-value="{websiteURL}" readonly="readonly" required> </div> <div class="form-group"> <label>Email address for notifications</label> <input class="form-control" name="Email" riot-value="{email}" required type="{\'email\'}"> </div> <button class="btn btn-default" type="submit">Register</button> </form> </div> </div> <div class="panel panel-primary" if="{registered}"> <div class="panel-heading">Deregister your website</div> <div class="panel-body"> <p>Your site is registered to the scheduler and you should receive status emails regularly. Use the button below if you like to disable the automated checks.</p> <form onsubmit="{deregister}"> <input type="hidden" name="Service" value="Link Checker"> <div style="display: none;" class="form-group"> <label>Website URL</label> <input class="form-control" name="URL" type="text" riot-value="{websiteURL}" readonly="readonly" required> </div> <button class="btn btn-default" type="submit">Deregister</button> </form> </div> </div>',
"","",function(a){var b=this;b.registered=!1;b.websiteURL=a.websiteUrl||"";b.token=a.token||"";b.email=a.email||"";b.apiURL="https://api.marcobeierer.com/scheduler/v1/";"1"===a.dev&&(b.apiURL="http://marco-desktop:9999/scheduler/v1/");this.setMessage=function(a,d){b.message=a;b.messageType=d;b.update()}.bind(this);b.setMessage("Loading status.","info");this.tokenHeader=function(){return""!=b.token?"BEARER "+b.token:""}.bind(this);this.status=function(){jQuery.ajax({method:"GET",url:b.apiURL+"?Service=Link Checker&URL="+
b.websiteURL,headers:{Authorization:b.tokenHeader()}}).done(function(a,d,f){204==f.status?(b.setMessage("Your website isn't registered for the scheduler currently. Please use the form below to register your site.","info"),b.registered=!1):(b.setMessage("Your website is registered to the scheduler currently. You can use the form below to deregister your site.","info"),b.registered=!0)}).fail(function(a,d,f){401==a.status?b.setMessage("The validation of your token failed. The token is invalid or has expired. Please try it again or contact me if the token should be valid.",
"danger"):504==a.status||503==a.status?b.setMessage("The backend server is temporarily unavailable. Please try it again later.","danger"):b.setMessage("Something went wrong. Please try it again later.","danger")}).always(function(){b.update()})}.bind(this);b.status();this.register=function(a){a.preventDefault();a=jQuery(a.target).serializeObject();a.IntervalInNs=parseInt(a.IntervalInNs);a=JSON.stringify(a);jQuery.ajax({method:"POST",url:b.apiURL,data:a,dataType:"text",headers:{Authorization:b.tokenHeader()}}).done(function(a,
e,c){b.setMessage("You have successfully registered your website to the scheduler.","success");b.registered=!0}).fail(function(a,e,c){console.log(a.status);401==a.status?b.setMessage("The validation of your token failed. The token is invalid or has expired. Please try it again or contact me if the token should be valid.","danger"):504==a.status||503==a.status?b.setMessage("The backend server is temporarily unavailable. Please try it again later.","danger"):b.setMessage("Something went wrong. Please try it again later.",
"danger")}).always(function(){b.update()})}.bind(this);this.deregister=function(a){a.preventDefault();a=jQuery(a.target).serializeJSON();jQuery.ajax({method:"DELETE",url:b.apiURL,data:a,dataType:"text",headers:{Authorization:b.tokenHeader()}}).done(function(a,e,c){b.setMessage("You have successfully deregistered your website from the scheduler.","success");b.registered=!1}).fail(function(a,e,c){b.setMessage("Something went wrong. Please try it again later.","danger")}).always(function(){b.update()})}.bind(this)});riot.tag2("linkchecker",'<form if="{showButton}" onsubmit="{submit}" style="margin-bottom: 20px;"> <button class="btn btn-default" type="submit" disabled="{disabled}">Check your website</button> </form> <div class="alert alert-{messageType}"> <raw content="{message}"></raw> </div> <div class="panel panel-default" style="width: 550px; max-width: 100%;"> <div class="panel-heading">Stats</div> <table class="table table-bordered"> <tr> <td>Number of crawled HTML pages on your site</td> <td class="text-right" style="width: 150px;">{urlsCrawledCount}</td> </tr> <tr> <td>Number of checked internal and external resources</td> <td class="text-right">{checkedLinksCount}</td> </tr> </table> </div> <h3>Broken Links</h3> <p>The table below shows all broken links. Please note that the fixed markers are just temporary and are reset with the next link check.</p> <datatable ref="brokenLinks" table-class="table-striped responsive-table" columns="{urlsWithBrokenLinksColumns}" data="{urlsWithBrokenLinks}" actions="{brokenLinksActions}" message="{resultsMessage}"> </datatable> <h3>Links blocked by robots.txt</h3> <p>Websites can prohibit access for web crawlers like the one used by the Link Checker with the robots exclusion protocol. You find all links the Link Checker was not allowed to access in the table below. If the blocked links were found on your on website, you can add rules for the Link Checker to your robots.txt file and restart the Link Checker. Please see the <a href="https://www.marcobeierer.com/tools/link-checker-faq" target="_blank">FAQs</a> for further information.</p> <p>External links that are blocked by a robots.txt file cannot be checked by the Link Checker and need to be verified manually. If you have done this, you could mark them as working. Each marker is saved for one month in your browsers cache and the date of the last marking is shown in the table below.</p> <datatable ref="linksBlockedByRobots" table-class="table-striped responsive-table" columns="{urlsWithLinksBlockedByRobotsColumns}" data="{urlsWithLinksBlockedByRobots}" actions="{blockedLinksActions}" message="{resultsMessage}"> </datatable> <h3 if="{token}">Broken Images</h3> <p>The table below shows all broken images. Please note that the fixed markers are just temporary and are reset for the next link check.</p> <datatable if="{token}" table-class="table-striped responsive-table" columns="{urlsWithDeadImagesColumns}" data="{urlsWithDeadImages}" actions="{brokenImagesActions}" message="{resultsMessage}"> </datatable> <h3>Custom Status Codes</h3> <p>The Link Checker uses the following custom status codes:</p> <ul> <li>598 - Blocked by robots: The Link Checker was not able to access the page because the access was blocked by the robots exclusion protocol.</li> <li>599 - HTML parse error: The HTML code of this page could not be parsed because of an error in the code or because the page was larger than 50 MB.</li> </ul> <p><em>Please note that it is also possible that a website returns these status codes and if this is the case, they probably have another meaning.</em></p> <h3>Common Status Codes</h3> <ul> <li>502 - Bad Gateway: The server returned an invalid response when the Link Checker tried to access the URL.</li> <li>504 - Gateway Timeout: The Link Checker was not able to access the URL because it timed out.</li> </ul>',
"","",function(a){function b(a,b){return[{label:"URL",linkCallback:function(a){return a.URL}},{label:"StatusCode",width:"9em"},{label:"Actions",width:"10em"}]}function e(a){a=lscache.get(a.URL);return void 0==a?!1:(new Date(Date.now())).toLocaleDateString()==(new Date(a)).toLocaleDateString()}function d(a){Object.keys(a).forEach(function(b){delete a[b]})}function f(a,b){delete b[a.FoundOnURL][a.URL];Object.keys(b[a.FoundOnURL])}var c=this;c.message="";c.on("mount",function(){lscache.setBucket("linkchecker");
lscache.flushExpired()});c.urlsWithBrokenLinksColumns=[{label:"URL where the broken links were found",width:"35%",callback:function(a,b){return b},linkCallback:function(a,b){return b}},{label:"Broken Links",type:"subtable",colspan:"3",callback:b,message:"No broken links left."},{label:"StatusCode",width:"9em",showBody:!1},{label:"Actions",width:"11em",showBody:!1}];c.urlsWithLinksBlockedByRobotsColumns=[{label:"URL where the links were found",width:"35%",callback:function(a,b){return b},linkCallback:function(a,
b){return b}},{label:"Blocked Links",type:"subtable",colspan:"4",callback:function(a,b){return[{label:"URL",linkCallback:function(a){return a.URL}},{label:"StatusCode",width:"9em"},{label:"Marked As Working On",width:"14em",callback:function(a){a=lscache.get(a.URL);return void 0==a?"never":(new Date(a)).toLocaleDateString()}},{label:"Actions",width:"10em"}]}},{label:"StatusCode",width:"9em",showBody:!1},{label:"Marked As Working On",width:"14em",showBody:!1},{label:"Actions",width:"11em",showBody:!1}];
c.urlsWithDeadImagesColumns=[{label:"URL where the broken images were found",width:"35%",callback:function(a,b){return b},linkCallback:function(a,b){return b}},{label:"Broken Images",type:"subtable",colspan:"3",callback:b,message:"No broken images left."},{label:"StatusCode",width:"9em",showBody:!1},{label:"Actions",width:"11em",showBody:!1}];c.blockedLinksActions=[{labelCallback:function(a){return e(a)?"Already marked":"Mark as Working"},btnType:"primary",action:"callback",callback:function(a){lscache.set(a.URL,
Date.now(),43200);c.refs.linksBlockedByRobots.update()},isDisabledCallback:e}];c.brokenImagesActions=[{label:"Mark as Fixed",btnType:"primary",action:"callback",callback:function(a){f(a,c.urlsWithDeadImages)}}];c.brokenLinksActions=[{label:"Mark as Fixed",btnType:"primary",action:"callback",callback:function(a){f(a,c.urlsWithBrokenLinks)}}];a.linkchecker.on("start",function(a,b,e){c.websiteURL=a;c.token=b;c.maxFetchers=e||10;c.start()});a.linkchecker.on("started",function(){c.disabled=!0});a.linkchecker.on("stopped",
function(){c.disabled=!1;c.update()});this.setMessage=function(a,b){c.message=a;c.messageType=b;c.update()}.bind(this);c.websiteURL=a.websiteUrl||"";c.token=a.token||"";c.maxFetchers=a.maxFetchers||10;""!=c.websiteURL&&(c.showButton=!0);c.urlsCrawledCount=0;c.checkedLinksCount=0;c.setMessage("The Link Checker was not started yet.","info");c.resultsMessage="Link check not started yet.";c.urlsWithBrokenLinks={};c.urlsWithLinksBlockedByRobots={};c.urlsWithDeadImages={};this.submit=function(a){a.preventDefault();
c.start()}.bind(this);this.start=function(){a.linkchecker.trigger("started");c.urlsCrawledCount=0;c.checkedLinksCount=0;d(c.urlsWithBrokenLinks);d(c.urlsWithLinksBlockedByRobots);d(c.urlsWithDeadImages);c.setMessage("Your website is being checked. Please wait a moment. You can watch the progress in the stats below.","warning");c.resultsMessage="Please wait until the check has finished.";var b=window.btoa(encodeURIComponent(c.websiteURL).replace(/%([0-9A-F]{2})/g,function(a,b){return String.fromCharCode("0x"+
b)}));b.replace(/\+/g,"-").replace(/\//g,"_");c.doRequest=function(){var e="";""!=c.token&&(e="BEARER "+c.token);var d="https://api.marcobeierer.com/linkchecker/v1/"+b+"?origin_system=riot&max_fetchers="+c.maxFetchers;"1"==a.dev&&(d="sample_data/current.json?_="+Date.now());jQuery.ajax({method:"GET",url:d,headers:{Authorization:e}}).done(function(b){c.urlsCrawledCount=b.URLsCrawledCount;c.checkedLinksCount=b.CheckedLinksCount;if(b.Finished){a.linkchecker.trigger("stopped");if(b.LimitReached)c.setMessage('The URL limit was reached. The Link Checker has not checked your complete website. You could buy a token for the <a href="https://www.marcobeierer.com/purchase">Link Checker Professional</a> to check up to 50\'000 URLs.',
"danger");else{var e="Your website has been checked successfully. Please see the result below.";""==c.token&&(e+=' If you additionally like to check your site for <strong>broken images</strong> or like to use the scheduler for an <strong>automatically triggered daily check</strong>, then have a look at the <a href="https://www.marcobeierer.com/purchase">Link Checker Professional</a>.');c.setMessage(e,"success")}c.resultsMessage="Nothing found, everything seems fine here.";if(!jQuery.isEmptyObject(b.DeadLinks))for(var d in b.DeadLinks)c.urlsWithBrokenLinks[d]=
{},c.urlsWithLinksBlockedByRobots[d]={},b.DeadLinks[d].forEach(function(a){a.FoundOnURL=d;598===a.StatusCode?c.urlsWithLinksBlockedByRobots[d][a.URL]=a:c.urlsWithBrokenLinks[d][a.URL]=a}),0==Object.keys(c.urlsWithBrokenLinks[d]).length&&delete c.urlsWithBrokenLinks[d],0==Object.keys(c.urlsWithLinksBlockedByRobots[d]).length&&delete c.urlsWithLinksBlockedByRobots[d];if(!jQuery.isEmptyObject(b.DeadEmbeddedImages))for(d in b.DeadEmbeddedImages)c.urlsWithDeadImages[d]={},b.DeadEmbeddedImages[d].forEach(function(a){a.FoundOnURL=
d;c.urlsWithDeadImages[d][a.URL]=a}),0==Object.keys(c.urlsWithDeadImages[d]).length&&delete c.urlsWithDeadImages[d]}else setTimeout(c.doRequest,1E3)}).fail(function(b){a.linkchecker.trigger("stopped");var d=b.status;401==d?c.setMessage("The validation of your token failed. The token is invalid or has expired. Please try it again or contact me if the token should be valid.","danger"):500==d?""==b.responseText?c.setMessage("The check of your website failed. Please try it again.","danger"):c.setMessage("The check of your website failed with the error:<br/><strong>"+
JSON.parse(b.responseText)+"</strong>.","danger"):503==d?c.setMessage("The backend server is temporarily unavailable. Please try it again later.","danger"):504==d&&1==b.getResponseHeader("X-CURL-Error")?(b=JSON.parse(b.responseText),""==b?c.setMessage("A cURL error occurred. Please contact the developer of the extensions.","danger"):c.setMessage("A cURL error occurred with the error message:<br/><strong>"+b+"</strong>.","danger")):c.setMessage("The check of your website failed. Please try it again or contact the developer of the extensions.",
"danger");c.resultsMessage="Link check not started yet."}).always(function(){c.update()})};c.doRequest()}.bind(this)});riot.tag2("raw","<span></span>","","",function(a){var b=this;b.root.innerHTML=a.content;b.on("update",function(){b.root.innerHTML=a.content})});riot.tag2("resulttable",'<div class="panel panel-default table-responsive"> <table class="table table-striped"> <thead> <tr> <th style="width: 35%;">{thCol1}</th> <th>{thCol2}</th> <th style="width: 10em;">{thCol3}</th> </tr> </thead> <tbody> <tr if="{!data || Object.keys(data).length === 0}"> <td>{resultsMessage}</td> <td></td> <td></td> </tr> <tr each="{deadResources, foundOnURL in data}"> <td><a href="{foundOnURL}" target="_blank">{foundOnURL}</a></td> <td colspan="2"> <div class="panel panel-default" style="margin-bottom: 0;"> <table class="table"> <tr each="{deadResource in deadResources}"> <td><a href="{deadResource.URL}" target="_blank">{deadResource.URL}</a></td> <td style="width: 9em;">{deadResource.StatusCode}</td> </tr> </table> </div> </td> </tr> </tbody> <tfoot> <tr> <th>{thCol1}</th> <th>{thCol2}</th> <th>{thCol3}</th> </tr> </tfoot> </table> </div>',
"","",function(a){var b=this;b.thCol1=a.thCol1;b.thCol2=a.thCol2;b.thCol3=a.thCol3;b.resultsMessage=a.resultsMessage;b.data=a.data;b.on("update",function(){b.resultsMessage=a.resultsMessage;b.data=a.data})});
