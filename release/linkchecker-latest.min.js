/*
 2014, macek <paulmacek@gmail.com>
 @link https://github.com/macek/jquery-serialize-object
 @license BSD
 @version 2.5.0
*/
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(g,h,l){if(l.get||l.set)throw new TypeError("ES3 does not support getters and setters.");g!=Array.prototype&&g!=Object.prototype&&(g[h]=l.value)};$jscomp.getGlobal=function(g){return"undefined"!=typeof window&&window===g?g:"undefined"!=typeof global&&null!=global?global:g};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(g){return $jscomp.SYMBOL_PREFIX+(g||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var g=$jscomp.global.Symbol.iterator;g||(g=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[g]&&$jscomp.defineProperty(Array.prototype,g,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(g){var h=0;return $jscomp.iteratorPrototype(function(){return h<g.length?{done:!1,value:g[h++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(g){$jscomp.initSymbolIterator();g={next:g};g[$jscomp.global.Symbol.iterator]=function(){return this};return g};$jscomp.makeIterator=function(g){$jscomp.initSymbolIterator();var h=g[Symbol.iterator];return h?h.call(g):$jscomp.arrayIterator(g)};
$jscomp.polyfill=function(g,h,l,d){if(h){l=$jscomp.global;g=g.split(".");for(d=0;d<g.length-1;d++){var n=g[d];n in l||(l[n]={});l=l[n]}g=g[g.length-1];d=l[g];h=h(d);h!=d&&null!=h&&$jscomp.defineProperty(l,g,{configurable:!0,writable:!0,value:h})}};$jscomp.EXPOSE_ASYNC_EXECUTOR=!0;$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(g){function h(){this.batch_=null}if(g&&!$jscomp.FORCE_POLYFILL_PROMISE)return g;h.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};h.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var l=$jscomp.global.setTimeout;h.prototype.asyncExecuteFunction=function(a){l(a,0)};h.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var g=0;g<a.length;++g){var f=a[g];delete a[g];try{f()}catch(m){this.asyncThrow_(m)}}}this.batch_=null};h.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var d=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var g=this.createResolveAndReject_();try{a(g.resolve,g.reject)}catch(f){g.reject(f)}};d.prototype.createResolveAndReject_=function(){function a(a){return function(d){f||(f=!0,a.call(g,d))}}var g=this,f=
!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};d.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof d)this.settleSameAsPromise_(a);else{var g;a:switch(typeof a){case "object":g=null!=a;break a;case "function":g=!0;break a;default:g=!1}g?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};d.prototype.resolveToNonPromiseObj_=function(a){var g=void 0;try{g=a.then}catch(f){this.reject_(f);return}"function"==
typeof g?this.settleSameAsThenable_(g,a):this.fulfill_(a)};d.prototype.reject_=function(a){this.settle_(2,a)};d.prototype.fulfill_=function(a){this.settle_(1,a)};d.prototype.settle_=function(a,g){if(0!=this.state_)throw Error("Cannot settle("+a+", "+g|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=g;this.executeOnSettledCallbacks_()};d.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=this.onSettledCallbacks_,g=0;g<a.length;++g)a[g].call(),
a[g]=null;this.onSettledCallbacks_=null}};var n=new h;d.prototype.settleSameAsPromise_=function(a){var g=this.createResolveAndReject_();a.callWhenSettled_(g.resolve,g.reject)};d.prototype.settleSameAsThenable_=function(a,g){var f=this.createResolveAndReject_();try{a.call(g,f.resolve,f.reject)}catch(m){f.reject(m)}};d.prototype.then=function(a,g){function f(g,a){return"function"==typeof g?function(a){try{m(g(a))}catch(w){h(w)}}:a}var m,h,l=new d(function(g,a){m=g;h=a});this.callWhenSettled_(f(a,m),
f(g,h));return l};d.prototype["catch"]=function(g){return this.then(void 0,g)};d.prototype.callWhenSettled_=function(g,d){function a(){switch(m.state_){case 1:g(m.result_);break;case 2:d(m.result_);break;default:throw Error("Unexpected state: "+m.state_);}}var m=this;null==this.onSettledCallbacks_?n.asyncExecute(a):this.onSettledCallbacks_.push(function(){n.asyncExecute(a)})};d.resolve=function(g){return g instanceof d?g:new d(function(a,d){a(g)})};d.reject=function(g){return new d(function(a,d){d(g)})};
d.race=function(g){return new d(function(a,f){for(var m=$jscomp.makeIterator(g),h=m.next();!h.done;h=m.next())d.resolve(h.value).callWhenSettled_(a,f)})};d.all=function(g){var a=$jscomp.makeIterator(g),f=a.next();return f.done?d.resolve([]):new d(function(g,h){function m(a){return function(d){l[a]=d;n--;0==n&&g(l)}}var l=[],n=0;do l.push(void 0),n++,d.resolve(f.value).callWhenSettled_(m(l.length-1),h),f=a.next();while(!f.done)})};$jscomp.EXPOSE_ASYNC_EXECUTOR&&(d.$jscomp$new$AsyncExecutor=function(){return new h});
return d},"es6-impl","es3");$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(g,h){$jscomp.initSymbolIterator();g instanceof String&&(g+="");var l=0,d={next:function(){if(l<g.length){var n=l++;return{value:h(n,g[n]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill("Array.prototype.keys",function(g){return g?g:function(){return $jscomp.iteratorFromArray(this,function(g){return g})}},"es6-impl","es3");$jscomp.findInternal=function(g,h,l){g instanceof String&&(g=String(g));for(var d=g.length,n=0;n<d;n++){var a=g[n];if(h.call(l,a,n,g))return{i:n,v:a}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(g){return g?g:function(g,l){return $jscomp.findInternal(this,g,l).v}},"es6-impl","es3");
!function(g,h){if("function"==typeof define&&define.amd)define(["exports","jquery"],function(g,l){return h(g,l)});else if("undefined"!=typeof exports){var l=require("jquery");h(exports,l)}else h(g,g.jQuery||g.Zepto||g.ender||g.$)}(this,function(g,h){function l(g,a){var l={},f={};this.addPair=function(m){if(!d.validate.test(m.name))return this;var n=m.name;a:switch(h('[name="'+m.name+'"]',a).attr("type")){case "checkbox":m="on"===m.value?!0:m.value;break a;default:m=m.value}for(var t,v=n.match(d.key);void 0!==
(t=v.pop());)if(d.push.test(t)){t=n.replace(/\[\]$/,"");t=(void 0===f[t]&&(f[t]=0),f[t]++);var q=[];m=(q[t]=m,q)}else d.fixed.test(t)?(q=[],m=(q[t]=m,q)):d.named.test(t)&&(q={},m=(q[t]=m,q));return l=g.extend(!0,l,m),this};this.addPairs=function(a){if(!g.isArray(a))throw Error("formSerializer.addPairs expects an Array");for(var d=0,f=a.length;f>d;d++)this.addPair(a[d]);return this};this.serialize=function(){return l};this.serializeJSON=function(){return JSON.stringify(l)}}var d={validate:/^[a-z_][a-z0-9_]*(?:\[(?:\d*|[a-z0-9_]+)\])*$/i,
key:/[a-z0-9_]+|(?=\[\])/gi,push:/^$/,fixed:/^\d+$/,named:/^[a-z0-9_]+$/i};return l.patterns=d,l.serializeObject=function(){return(new l(h,this)).addPairs(this.serializeArray()).serialize()},l.serializeJSON=function(){return(new l(h,this)).addPairs(this.serializeArray()).serializeJSON()},"undefined"!=typeof h.fn&&(h.fn.serializeObject=l.serializeObject,h.fn.serializeJSON=l.serializeJSON),g.FormSerializer=l,l});/*
 localForage -- Offline Storage, Improved
    Version 1.7.1
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
(function(g){"object"===typeof exports&&"undefined"!==typeof module?module.exports=g():"function"===typeof define&&define.amd?define([],g):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).localforage=g()})(function(){return function h(l,d,n){function a(f,H){if(!d[f]){if(!l[f]){var m="function"==typeof require&&require;if(!H&&m)return m(f,!0);if(v)return v(f,!0);m=Error("Cannot find module '"+f+"'");throw m.code="MODULE_NOT_FOUND",m;}m=d[f]=
{exports:{}};l[f][0].call(m.exports,function(d){var h=l[f][1][d];return a(h?h:d)},m,m.exports,h,l,d,n)}return d[f].exports}for(var v="function"==typeof require&&require,f=0;f<n.length;f++)a(n[f]);return a}({1:[function(h,l,d){(function(d){function a(){z=!0;for(var a,d,f=q.length;f;){d=q;q=[];for(a=-1;++a<f;)d[a]();f=q.length}z=!1}var h=d.MutationObserver||d.WebKitMutationObserver,f;if(h){var m=0,h=new h(a),n=d.document.createTextNode("");h.observe(n,{characterData:!0});f=function(){n.data=m=++m%2}}else if(d.setImmediate||
"undefined"===typeof d.MessageChannel)f="document"in d&&"onreadystatechange"in d.document.createElement("script")?function(){var f=d.document.createElement("script");f.onreadystatechange=function(){a();f.onreadystatechange=null;f.parentNode.removeChild(f);f=null};d.document.documentElement.appendChild(f)}:function(){setTimeout(a,0)};else{var t=new d.MessageChannel;t.port1.onmessage=a;f=function(){t.port2.postMessage(0)}}var z,q=[];l.exports=function(a){1!==q.push(a)||z||f()}}).call(this,"undefined"!==
typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(h,l,d){function n(){}function a(a){if("function"!==typeof a)throw new TypeError("resolver must be a function");this.state=P;this.queue=[];this.outcome=void 0;a!==n&&H(this,a)}function v(a,d,f){this.promise=a;"function"===typeof d&&(this.onFulfilled=d,this.callFulfilled=this.otherCallFulfilled);"function"===typeof f&&(this.onRejected=f,this.callRejected=this.otherCallRejected)}function f(a,d,
f){z(function(){var h;try{h=d(f)}catch(y){return q.reject(a,y)}h===a?q.reject(a,new TypeError("Cannot resolve promise with itself")):q.resolve(a,h)})}function m(a){var d=a&&a.then;if(a&&"object"===typeof a&&"function"===typeof d)return function(){d.apply(a,arguments)}}function H(a,d){function f(d){l||(l=!0,q.reject(a,d))}function h(d){l||(l=!0,q.resolve(a,d))}var l=!1,m=t(function(){d(h,f)});"error"===m.status&&f(m.value)}function t(a,d){var f={};try{f.value=a(d),f.status="success"}catch(J){f.status=
"error",f.value=J}return f}var z=h(1),q={},C=["REJECTED"],w=["FULFILLED"],P=["PENDING"];l.exports=d=a;a.prototype["catch"]=function(a){return this.then(null,a)};a.prototype.then=function(a,d){if("function"!==typeof a&&this.state===w||"function"!==typeof d&&this.state===C)return this;var h=new this.constructor(n);this.state!==P?f(h,this.state===w?a:d,this.outcome):this.queue.push(new v(h,a,d));return h};v.prototype.callFulfilled=function(a){q.resolve(this.promise,a)};v.prototype.otherCallFulfilled=
function(a){f(this.promise,this.onFulfilled,a)};v.prototype.callRejected=function(a){q.reject(this.promise,a)};v.prototype.otherCallRejected=function(a){f(this.promise,this.onRejected,a)};q.resolve=function(a,d){var f=t(m,d);if("error"===f.status)return q.reject(a,f.value);if(f=f.value)H(a,f);else{a.state=w;a.outcome=d;for(var f=-1,h=a.queue.length;++f<h;)a.queue[f].callFulfilled(d)}return a};q.reject=function(a,d){a.state=C;a.outcome=d;for(var f=-1,h=a.queue.length;++f<h;)a.queue[f].callRejected(d);
return a};d.resolve=function(a){return a instanceof this?a:q.resolve(new this(n),a)};d.reject=function(a){var d=new this(n);return q.reject(d,a)};d.all=function(a){function d(a,d){f.resolve(a).then(function(a){m[d]=a;++w!==h||l||(l=!0,q.resolve(v,m))},function(a){l||(l=!0,q.reject(v,a))})}var f=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var h=a.length,l=!1;if(!h)return this.resolve([]);for(var m=Array(h),w=0,t=-1,v=new this(n);++t<
h;)d(a[t],t);return v};d.race=function(a){function d(a){f.resolve(a).then(function(a){l||(l=!0,q.resolve(w,a))},function(a){l||(l=!0,q.reject(w,a))})}var f=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var h=a.length,l=!1;if(!h)return this.resolve([]);for(var m=-1,w=new this(n);++m<h;)d(a[m]);return w}},{1:1}],3:[function(h,l,d){l="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:
{};"function"!==typeof l.Promise&&(l.Promise=h(2))},{2:2}],4:[function(h,l,d){function n(b,c){b=b||[];c=c||{};try{return new Blob(b,c)}catch(u){if("TypeError"!==u.name)throw u;for(var e=new ("undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),a=0;a<b.length;a+=1)e.append(b[a]);return e.getBlob(c.type)}}function a(b,c){c&&b.then(function(b){c(null,b)},function(b){c(b)})}function v(b,c,e){"function"===
typeof c&&b.then(c);if("function"===typeof e)b["catch"](e)}function f(b){"string"!==typeof b&&(console.warn(b+" used as a key, but it is not a string."),b=String(b));return b}function m(){if(arguments.length&&"function"===typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function H(b){return(new r(function(c){var e=b.transaction("local-forage-detect-blob-support","readwrite"),a=n([""]);e.objectStore("local-forage-detect-blob-support").put(a,"key");e.onabort=function(b){b.preventDefault();
b.stopPropagation();c(!1)};e.oncomplete=function(){var b=navigator.userAgent.match(/Chrome\/(\d+)/),e=navigator.userAgent.match(/Edge\//);c(e||!b||43<=parseInt(b[1],10))}}))["catch"](function(){return!1})}function t(b){return"boolean"===typeof X?r.resolve(X):H(b).then(function(b){return X=b})}function z(b){b=E[b.name];var c={};c.promise=new r(function(b,a){c.resolve=b;c.reject=a});b.deferredOperations.push(c);b.dbReady=b.dbReady?b.dbReady.then(function(){return c.promise}):c.promise}function q(b){if(b=
E[b.name].deferredOperations.pop())return b.resolve(),b.promise}function C(b,c){var e=E[b.name].deferredOperations.pop();if(e)return e.reject(c),e.promise}function w(b,c){return new r(function(e,a){E[b.name]=E[b.name]||T();if(b.db)if(c)z(b),b.db.close();else return e(b.db);var x=[b.name];c&&x.push(b.version);var p=K.open.apply(K,x);c&&(p.onupgradeneeded=function(c){var e=p.result;try{e.createObjectStore(b.storeName),1>=c.oldVersion&&e.createObjectStore("local-forage-detect-blob-support")}catch(L){if("ConstraintError"===
L.name)console.warn('The database "'+b.name+'" has been upgraded from version '+c.oldVersion+" to version "+c.newVersion+', but the storage "'+b.storeName+'" already exists.');else throw L;}});p.onerror=function(b){b.preventDefault();a(p.error)};p.onsuccess=function(){e(p.result);q(b)}})}function P(b,c){if(!b.db)return!0;var e=!b.db.objectStoreNames.contains(b.storeName),a=b.version>b.db.version;b.version<b.db.version&&(b.version!==c&&console.warn('The database "'+b.name+"\" can't be downgraded from version "+
b.db.version+" to version "+b.version+"."),b.version=b.db.version);return a||e?(e&&(e=b.db.version+1,e>b.version&&(b.version=e)),!0):!1}function ta(b){return new r(function(c,e){var a=new FileReader;a.onerror=e;a.onloadend=function(e){e=btoa(e.target.result||"");c({__local_forage_encoded_blob:!0,data:e,type:b.type})};a.readAsBinaryString(b)})}function fa(b){for(var c=atob(b.data),e=c.length,a=new ArrayBuffer(e),u=new Uint8Array(a),p=0;p<e;p++)u[p]=c.charCodeAt(p);return n([a],{type:b.type})}function ua(b){var c=
this,e=c._initReady().then(function(){var b=E[c._dbInfo.name];if(b&&b.dbReady)return b.dbReady});v(e,b,b);return e}function J(b){z(b);for(var c=E[b.name],e=c.forages,a=0;a<e.length;a++){var u=e[a];u._dbInfo.db&&(u._dbInfo.db.close(),u._dbInfo.db=null)}b.db=null;return w(b,!1).then(function(c){b.db=c;return P(b)?w(b,!0):c}).then(function(a){b.db=c.db=a;for(var p=0;p<e.length;p++)e[p]._dbInfo.db=a})["catch"](function(c){C(b,c);throw c;})}function y(b,c,a,x){void 0===x&&(x=1);try{var e=b.db.transaction(b.storeName,
c);a(null,e)}catch(p){if(0<x&&(!b.db||"InvalidStateError"===p.name||"NotFoundError"===p.name))return r.resolve().then(function(){if(!b.db||"NotFoundError"===p.name&&!b.db.objectStoreNames.contains(b.storeName)&&b.version<=b.db.version)return b.db&&(b.version=b.db.version+1),w(b,!0)}).then(function(){return J(b).then(function(){y(b,c,a,x-1)})})["catch"](a);a(p)}}function T(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ma(b){var c=.75*b.length,a=b.length,x=0,u,p,d,f;"="===
b[b.length-1]&&(c--,"="===b[b.length-2]&&c--);for(var L=new ArrayBuffer(c),h=new Uint8Array(L),c=0;c<a;c+=4)u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b[c]),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b[c+1]),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b[c+2]),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(b[c+3]),h[x++]=u<<2|p>>4,h[x++]=(p&15)<<4|d>>2,h[x++]=(d&3)<<6|
f&63;return L}function U(b){b=new Uint8Array(b);var c="",a;for(a=0;a<b.length;a+=3)c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b[a]>>2],c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(b[a]&3)<<4|b[a+1]>>4],c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(b[a+1]&15)<<2|b[a+2]>>6],c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b[a+2]&63];2===b.length%3?c=c.substring(0,c.length-1)+"=":1===b.length%3&&(c=c.substring(0,
c.length-2)+"==");return c}function na(b,a,e,x){b.executeSql("CREATE TABLE IF NOT EXISTS "+a.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],e,x)}function G(b,a,e,x,d,p){b.executeSql(e,x,d,function(b,c){c.code===c.SYNTAX_ERR?b.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[name],function(b,u){u.rows.length?p(b,c):na(b,a,function(){b.executeSql(e,x,d,p)},p)},p):p(b,c)},p)}function Q(b,c,e,x){var d=this;b=f(b);var p=new r(function(a,p){d.ready().then(function(){void 0===
c&&(c=null);var u=c,f=d._dbInfo;f.serializer.serialize(c,function(c,h){h?p(h):f.db.transaction(function(e){G(e,f,"INSERT OR REPLACE INTO "+f.storeName+" (key, value) VALUES (?, ?)",[b,c],function(){a(u)},function(b,a){p(a)})},function(c){c.code===c.QUOTA_ERR&&(0<x?a(Q.apply(d,[b,u,e,x-1])):p(c))})})})["catch"](p)});a(p,e);return p}function A(b){return new r(function(a,e){b.transaction(function(c){c.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",
[],function(c,e){for(var p=[],d=0;d<e.rows.length;d++)p.push(e.rows.item(d).name);a({db:b,storeNames:p})},function(b,a){e(a)})},function(b){e(b)})})}function qa(b,a){var c=b.name+"/";b.storeName!==a.storeName&&(c+=b.storeName+"/");return c}function D(b,a){b[a]=function(){var c=arguments;return b.ready().then(function(){return b[a].apply(b,c)})}}function ha(){for(var b=1;b<arguments.length;b++){var a=arguments[b];if(a)for(var e in a)a.hasOwnProperty(e)&&(ca(a[e])?arguments[0][e]=a[e].slice():arguments[0][e]=
a[e])}return arguments[0]}var va="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},K=function(){if("undefined"!==typeof indexedDB)return indexedDB;if("undefined"!==typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!==typeof mozIndexedDB)return mozIndexedDB;if("undefined"!==typeof OIndexedDB)return OIndexedDB;if("undefined"!==typeof msIndexedDB)return msIndexedDB}();
"undefined"===typeof Promise&&h(3);var r=Promise,X=void 0,E={},Fa=Object.prototype.toString;h={_driver:"asyncStorage",_initStorage:function(b){function a(){return r.resolve()}var e=this,d={db:null};if(b)for(var u in b)d[u]=b[u];var p=E[d.name];p||(p=T(),E[d.name]=p);p.forages.push(e);e._initReady||(e._initReady=e.ready,e.ready=ua);b=[];for(u=0;u<p.forages.length;u++){var f=p.forages[u];f!==e&&b.push(f._initReady()["catch"](a))}var h=p.forages.slice(0);return r.all(b).then(function(){d.db=p.db;return w(d,
!1)}).then(function(b){d.db=b;return P(d,e._defaultConfig.version)?w(d,!0):b}).then(function(b){d.db=p.db=b;e._dbInfo=d;for(b=0;b<h.length;b++){var a=h[b];a!==e&&(a._dbInfo.db=d.db,a._dbInfo.version=d.version)}})},_support:function(){try{if(!K)return!1;var b="undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),a="function"===typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!b||
a)&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(b,c){var e=this,d=new r(function(a,c){e.ready().then(function(){y(e._dbInfo,"readonly",function(d,p){if(d)return c(d);try{var f=p.objectStore(e._dbInfo.storeName).openCursor(),u=1;f.onsuccess=function(){var c=f.result;if(c){var e=c.value;e&&e.__local_forage_encoded_blob&&(e=fa(e));e=b(e,c.key,u++);if(void 0!==e)a(e);else c["continue"]()}else a()};f.onerror=function(){c(f.error)}}catch(ba){c(ba)}})})["catch"](c)});
a(d,c);return d},getItem:function(b,c){var e=this;b=f(b);var d=new r(function(a,c){e.ready().then(function(){y(e._dbInfo,"readonly",function(d,p){if(d)return c(d);try{var f=p.objectStore(e._dbInfo.storeName).get(b);f.onsuccess=function(){var b=f.result;void 0===b&&(b=null);b&&b.__local_forage_encoded_blob&&(b=fa(b));a(b)};f.onerror=function(){c(f.error)}}catch(Y){c(Y)}})})["catch"](c)});a(d,c);return d},setItem:function(b,c,e){var d=this;b=f(b);var u=new r(function(a,e){var p;d.ready().then(function(){p=
d._dbInfo;return"[object Blob]"===Fa.call(c)?t(p.db).then(function(b){return b?c:ta(c)}):c}).then(function(c){y(d._dbInfo,"readwrite",function(p,f){if(p)return e(p);try{var u=f.objectStore(d._dbInfo.storeName);null===c&&(c=void 0);var x=u.put(c,b);f.oncomplete=function(){void 0===c&&(c=null);a(c)};f.onabort=f.onerror=function(){e(x.error?x.error:x.transaction.error)}}catch(pa){e(pa)}})})["catch"](e)});a(u,e);return u},removeItem:function(b,c){var e=this;b=f(b);var d=new r(function(a,c){e.ready().then(function(){y(e._dbInfo,
"readwrite",function(d,p){if(d)return c(d);try{var f=p.objectStore(e._dbInfo.storeName)["delete"](b);p.oncomplete=function(){a()};p.onerror=function(){c(f.error)};p.onabort=function(){c(f.error?f.error:f.transaction.error)}}catch(Y){c(Y)}})})["catch"](c)});a(d,c);return d},clear:function(b){var c=this,e=new r(function(b,a){c.ready().then(function(){y(c._dbInfo,"readwrite",function(e,d){if(e)return a(e);try{var f=d.objectStore(c._dbInfo.storeName).clear();d.oncomplete=function(){b()};d.onabort=d.onerror=
function(){a(f.error?f.error:f.transaction.error)}}catch(L){a(L)}})})["catch"](a)});a(e,b);return e},length:function(b){var c=this,e=new r(function(b,a){c.ready().then(function(){y(c._dbInfo,"readonly",function(e,d){if(e)return a(e);try{var f=d.objectStore(c._dbInfo.storeName).count();f.onsuccess=function(){b(f.result)};f.onerror=function(){a(f.error)}}catch(L){a(L)}})})["catch"](a)});a(e,b);return e},key:function(b,c){var e=this,d=new r(function(a,c){if(0>b)a(null);else e.ready().then(function(){y(e._dbInfo,
"readonly",function(d,f){if(d)return c(d);try{var p=!1,u=f.objectStore(e._dbInfo.storeName).openCursor();u.onsuccess=function(){var c=u.result;c?0===b?a(c.key):p?a(c.key):(p=!0,c.advance(b)):a(null)};u.onerror=function(){c(u.error)}}catch(ba){c(ba)}})})["catch"](c)});a(d,c);return d},keys:function(b){var c=this,e=new r(function(b,a){c.ready().then(function(){y(c._dbInfo,"readonly",function(e,d){if(e)return a(e);try{var f=d.objectStore(c._dbInfo.storeName).openCursor(),p=[];f.onsuccess=function(){var a=
f.result;a?(p.push(a.key),a["continue"]()):b(p)};f.onerror=function(){a(f.error)}}catch(Y){a(Y)}})})["catch"](a)});a(e,b);return e},dropInstance:function(b,c){c=m.apply(this,arguments);var e=this.config();b="function"!==typeof b&&b||{};b.name||(b.name=b.name||e.name,b.storeName=b.storeName||e.storeName);b.name?(e=b.name===e.name&&this._dbInfo.db?r.resolve(this._dbInfo.db):w(b,!1).then(function(a){var c=E[b.name],e=c.forages;c.db=a;for(c=0;c<e.length;c++)e[c]._dbInfo.db=a;return a}),e=b.storeName?
e.then(function(a){if(a.objectStoreNames.contains(b.storeName)){var c=a.version+1;z(b);var e=E[b.name],d=e.forages;a.close();for(a=0;a<d.length;a++){var f=d[a];f._dbInfo.db=null;f._dbInfo.version=c}return(new r(function(a,e){var d=K.open(b.name,c);d.onerror=function(b){d.result.close();e(b)};d.onupgradeneeded=function(){d.result.deleteObjectStore(b.storeName)};d.onsuccess=function(){var b=d.result;b.close();a(b)}})).then(function(b){e.db=b;for(var a=0;a<d.length;a++){var c=d[a];c._dbInfo.db=b;q(c._dbInfo)}})["catch"](function(a){(C(b,
a)||r.resolve())["catch"](function(){});throw a;})}}):e.then(function(a){z(b);var c=E[b.name],e=c.forages;a.close();for(a=0;a<e.length;a++)e[a]._dbInfo.db=null;return(new r(function(a,c){var e=K.deleteDatabase(b.name);e.onerror=e.onblocked=function(b){var a=e.result;a&&a.close();c(b)};e.onsuccess=function(){var b=e.result;b&&b.close();a(b)}})).then(function(b){c.db=b;for(b=0;b<e.length;b++)q(e[b]._dbInfo)})["catch"](function(a){(C(b,a)||r.resolve())["catch"](function(){});throw a;})})):e=r.reject("Invalid arguments");
a(e,c);return e}};var wa=/^~~local_forage_type~([^~]+)~/,R=Object.prototype.toString,ra={serialize:function(b,a){var c="";b&&(c=R.call(b));if(b&&("[object ArrayBuffer]"===c||b.buffer&&"[object ArrayBuffer]"===R.call(b.buffer))){var d,f="__lfsc__:";b instanceof ArrayBuffer?(d=b,f+="arbf"):(d=b.buffer,"[object Int8Array]"===c?f+="si08":"[object Uint8Array]"===c?f+="ui08":"[object Uint8ClampedArray]"===c?f+="uic8":"[object Int16Array]"===c?f+="si16":"[object Uint16Array]"===c?f+="ur16":"[object Int32Array]"===
c?f+="si32":"[object Uint32Array]"===c?f+="ui32":"[object Float32Array]"===c?f+="fl32":"[object Float64Array]"===c?f+="fl64":a(Error("Failed to get type for BinaryArray")));a(f+U(d))}else if("[object Blob]"===c)c=new FileReader,c.onload=function(){var c="~~local_forage_type~"+b.type+"~"+U(this.result);a("__lfsc__:blob"+c)},c.readAsArrayBuffer(b);else try{a(JSON.stringify(b))}catch(p){console.error("Couldn't convert value into a JSON string: ",b),a(null,p)}},deserialize:function(b){if("__lfsc__:"!==
b.substring(0,9))return JSON.parse(b);var a=b.substring(13);b=b.substring(9,13);var e;if("blob"===b&&wa.test(a)){var d=a.match(wa);e=d[1];a=a.substring(d[0].length)}a=ma(a);switch(b){case "arbf":return a;case "blob":return n([a],{type:e});case "si08":return new Int8Array(a);case "ui08":return new Uint8Array(a);case "uic8":return new Uint8ClampedArray(a);case "si16":return new Int16Array(a);case "ur16":return new Uint16Array(a);case "si32":return new Int32Array(a);case "ui32":return new Uint32Array(a);
case "fl32":return new Float32Array(a);case "fl64":return new Float64Array(a);default:throw Error("Unkown type: "+b);}},stringToBuffer:ma,bufferToString:U};d={_driver:"webSQLStorage",_initStorage:function(b){var a=this,e={db:null};if(b)for(var d in b)e[d]="string"!==typeof b[d]?b[d].toString():b[d];b=new r(function(b,c){try{e.db=openDatabase(e.name,String(e.version),e.description,e.size)}catch(oa){return c(oa)}e.db.transaction(function(d){na(d,e,function(){a._dbInfo=e;b()},function(b,a){c(a)})},c)});
e.serializer=ra;return b},_support:"function"===typeof openDatabase,iterate:function(b,c){var e=this,d=new r(function(a,c){e.ready().then(function(){var d=e._dbInfo;d.db.transaction(function(e){G(e,d,"SELECT * FROM "+d.storeName,[],function(c,e){for(var f=e.rows,p=f.length,h=0;h<p;h++){var u=f.item(h),l=u.value;l&&(l=d.serializer.deserialize(l));l=b(l,u.key,h+1);if(void 0!==l){a(l);return}}a()},function(b,a){c(a)})})})["catch"](c)});a(d,c);return d},getItem:function(b,c){var e=this;b=f(b);var d=new r(function(a,
c){e.ready().then(function(){var d=e._dbInfo;d.db.transaction(function(e){G(e,d,"SELECT * FROM "+d.storeName+" WHERE key = ? LIMIT 1",[b],function(b,c){var e=c.rows.length?c.rows.item(0).value:null;e&&(e=d.serializer.deserialize(e));a(e)},function(b,a){c(a)})})})["catch"](c)});a(d,c);return d},setItem:function(b,a,e){return Q.apply(this,[b,a,e,1])},removeItem:function(b,c){var e=this;b=f(b);var d=new r(function(a,c){e.ready().then(function(){var d=e._dbInfo;d.db.transaction(function(e){G(e,d,"DELETE FROM "+
d.storeName+" WHERE key = ?",[b],function(){a()},function(b,a){c(a)})})})["catch"](c)});a(d,c);return d},clear:function(b){var c=this,e=new r(function(b,a){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){G(c,e,"DELETE FROM "+e.storeName,[],function(){b()},function(b,c){a(c)})})})["catch"](a)});a(e,b);return e},length:function(b){var c=this,e=new r(function(b,a){c.ready().then(function(){var e=c._dbInfo;e.db.transaction(function(c){G(c,e,"SELECT COUNT(key) as c FROM "+e.storeName,
[],function(a,c){var e=c.rows.item(0).c;b(e)},function(b,c){a(c)})})})["catch"](a)});a(e,b);return e},key:function(b,c){var e=this,d=new r(function(a,c){e.ready().then(function(){var d=e._dbInfo;d.db.transaction(function(e){G(e,d,"SELECT key FROM "+d.storeName+" WHERE id = ? LIMIT 1",[b+1],function(b,c){var e=c.rows.length?c.rows.item(0).key:null;a(e)},function(a,b){c(b)})})})["catch"](c)});a(d,c);return d},keys:function(b){var c=this,e=new r(function(b,a){c.ready().then(function(){var e=c._dbInfo;
e.db.transaction(function(c){G(c,e,"SELECT key FROM "+e.storeName,[],function(a,c){for(var e=[],d=0;d<c.rows.length;d++)e.push(c.rows.item(d).key);b(e)},function(b,c){a(c)})})})["catch"](a)});a(e,b);return e},dropInstance:function(b,c){c=m.apply(this,arguments);var e=this.config();b="function"!==typeof b&&b||{};b.name||(b.name=b.name||e.name,b.storeName=b.storeName||e.storeName);var d=this,f;f=b.name?(new r(function(a){var c;c=b.name===e.name?d._dbInfo.db:openDatabase(b.name,"","",0);b.storeName?
a({db:c,storeNames:[b.storeName]}):a(A(c))})).then(function(a){return new r(function(b,c){a.db.transaction(function(e){function d(a){return new r(function(b,c){e.executeSql("DROP TABLE IF EXISTS "+a,[],function(){b()},function(a,b){c(b)})})}for(var f=[],h=0,p=a.storeNames.length;h<p;h++)f.push(d(a.storeNames[h]));r.all(f).then(function(){b()})["catch"](function(a){c(a)})},function(a){c(a)})})}):r.reject("Invalid arguments");a(f,c);return f}};var O;try{O="undefined"!==typeof localStorage&&"setItem"in
localStorage&&!!localStorage.setItem}catch(b){O=!1}var S=function(a,c){for(var b=a.length,d=0;d<b;){var f=a[d],h=c;if(f===h||"number"===typeof f&&"number"===typeof h&&isNaN(f)&&isNaN(h))return!0;d++}return!1},ca=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},V={},xa={},W={INDEXEDDB:h,WEBSQL:d,LOCALSTORAGE:{_driver:"localStorageWrapper",_initStorage:function(a){var b={};if(a)for(var e in a)b[e]=a[e];b.keyPrefix=qa(a,this._defaultConfig);var d;try{localStorage.setItem("_localforage_support_test",
!0),localStorage.removeItem("_localforage_support_test"),d=!1}catch(u){d=!0}if(d&&!(0<localStorage.length))return r.reject();this._dbInfo=b;b.serializer=ra;return r.resolve()},_support:O,iterate:function(b,c){var e=this,d=e.ready().then(function(){for(var a=e._dbInfo,c=a.keyPrefix,d=c.length,f=localStorage.length,h=1,l=0;l<f;l++){var m=localStorage.key(l);if(0===m.indexOf(c)){var w=localStorage.getItem(m);w&&(w=a.serializer.deserialize(w));w=b(w,m.substring(d),h++);if(void 0!==w)return w}}});a(d,
c);return d},getItem:function(b,c){var e=this;b=f(b);var d=e.ready().then(function(){var a=e._dbInfo,c=localStorage.getItem(a.keyPrefix+b);c&&(c=a.serializer.deserialize(c));return c});a(d,c);return d},setItem:function(b,c,e){var d=this;b=f(b);var h=d.ready().then(function(){void 0===c&&(c=null);var a=c;return new r(function(e,f){var h=d._dbInfo;h.serializer.serialize(c,function(c,d){if(d)f(d);else try{localStorage.setItem(h.keyPrefix+b,c),e(a)}catch(ga){"QuotaExceededError"!==ga.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==
ga.name||f(ga),f(ga)}})})});a(h,e);return h},removeItem:function(b,c){var e=this;b=f(b);var d=e.ready().then(function(){localStorage.removeItem(e._dbInfo.keyPrefix+b)});a(d,c);return d},clear:function(b){var c=this,e=c.ready().then(function(){for(var a=c._dbInfo.keyPrefix,b=localStorage.length-1;0<=b;b--){var e=localStorage.key(b);0===e.indexOf(a)&&localStorage.removeItem(e)}});a(e,b);return e},length:function(b){var c=this.keys().then(function(a){return a.length});a(c,b);return c},key:function(b,
c){var e=this,d=e.ready().then(function(){var a=e._dbInfo,c;try{c=localStorage.key(b)}catch(oa){c=null}c&&(c=c.substring(a.keyPrefix.length));return c});a(d,c);return d},keys:function(b){var c=this,d=c.ready().then(function(){for(var a=c._dbInfo,b=localStorage.length,d=[],e=0;e<b;e++){var f=localStorage.key(e);0===f.indexOf(a.keyPrefix)&&d.push(f.substring(a.keyPrefix.length))}return d});a(d,b);return d},dropInstance:function(b,c){c=m.apply(this,arguments);b="function"!==typeof b&&b||{};if(!b.name){var d=
this.config();b.name=b.name||d.name;b.storeName=b.storeName||d.storeName}var f=this,d=b.name?(new r(function(a){b.storeName?a(qa(b,f._defaultConfig)):a(b.name+"/")})).then(function(a){for(var b=localStorage.length-1;0<=b;b--){var c=localStorage.key(b);0===c.indexOf(a)&&localStorage.removeItem(c)}}):r.reject("Invalid arguments");a(d,c);return d}}};O=[W.INDEXEDDB._driver,W.WEBSQL._driver,W.LOCALSTORAGE._driver];var da=["dropInstance"],ia="clear getItem iterate key keys length removeItem setItem".split(" ").concat(da),
ea={description:"",driver:O.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};O=new (function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");for(var c in W)if(W.hasOwnProperty(c)){var d=W[c],f=d._driver;this[c]=f;V[f]||this.defineDriver(d)}this._defaultConfig=ha({},ea);this._config=ha({},this._defaultConfig,a);this._initDriver=this._driverSet=null;this._ready=!1;this._dbInfo=null;this._wrapLibraryMethodsWithReady();this.setDriver(this._config.driver)["catch"](function(){})}
b.prototype.config=function(a){if("object"===("undefined"===typeof a?"undefined":va(a))){if(this._ready)return Error("Can't call config() after localforage has been used.");for(var b in a){"storeName"===b&&(a[b]=a[b].replace(/\W/g,"_"));if("version"===b&&"number"!==typeof a[b])return Error("Database version must be a number.");this._config[b]=a[b]}return"driver"in a&&a.driver?this.setDriver(this._config.driver):!0}return"string"===typeof a?this._config[a]:this._config};b.prototype.defineDriver=function(b,
d,f){var c=new r(function(c,d){try{var e=b._driver,f=Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(b._driver){for(var h=ia.concat("_initStorage"),l=0,p=h.length;l<p;l++){var m=h[l];if((!S(da,m)||b[m])&&"function"!==typeof b[m]){d(f);return}}(function(){for(var c=function(b){return function(){var c=r.reject(Error("Method "+b+" is not implemented by the current driver"));a(c,arguments[arguments.length-1]);return c}},d=0,e=da.length;d<e;d++){var f=da[d];
b[f]||(b[f]=c(f))}})();f=function(a){V[e]&&console.info("Redefining LocalForage driver: "+e);V[e]=b;xa[e]=a;c()};"_support"in b?b._support&&"function"===typeof b._support?b._support().then(f,d):f(!!b._support):f(!0)}else d(f)}catch(pa){d(pa)}});v(c,d,f);return c};b.prototype.driver=function(){return this._driver||null};b.prototype.getDriver=function(a,b,d){a=V[a]?r.resolve(V[a]):r.reject(Error("Driver not found."));v(a,b,d);return a};b.prototype.getSerializer=function(a){var b=r.resolve(ra);v(b,a);
return b};b.prototype.ready=function(a){var b=this,c=b._driverSet.then(function(){null===b._ready&&(b._ready=b._initDriver());return b._ready});v(c,a,a);return c};b.prototype.setDriver=function(a,b,d){function c(){h._config.driver=h.driver()}function e(a){h._extend(a);c();h._ready=h._initStorage(h._config);return h._ready}function f(a){return function(){function b(){for(;d<a.length;){var f=a[d];d++;h._dbInfo=null;h._ready=null;return h.getDriver(f).then(e)["catch"](b)}c();h._driverSet=r.reject(Error("No available storage method found."));
return h._driverSet}var d=0;return b()}}var h=this;ca(a)||(a=[a]);var l=this._getSupportedDrivers(a);this._driverSet=(null!==this._driverSet?this._driverSet["catch"](function(){return r.resolve()}):r.resolve()).then(function(){var a=l[0];h._dbInfo=null;h._ready=null;return h.getDriver(a).then(function(a){h._driver=a._driver;c();h._wrapLibraryMethodsWithReady();h._initDriver=f(l)})})["catch"](function(){c();h._driverSet=r.reject(Error("No available storage method found."));return h._driverSet});v(this._driverSet,
b,d);return this._driverSet};b.prototype.supports=function(a){return!!xa[a]};b.prototype._extend=function(a){ha(this,a)};b.prototype._getSupportedDrivers=function(a){for(var b=[],c=0,d=a.length;c<d;c++){var f=a[c];this.supports(f)&&b.push(f)}return b};b.prototype._wrapLibraryMethodsWithReady=function(){for(var a=0,b=ia.length;a<b;a++)D(this,ia[a])};b.prototype.createInstance=function(a){return new b(a)};return b}());l.exports=O},{3:3}]},{},[4])(4)});(function(g,h){"function"===typeof define&&define.amd?define([],h):"undefined"!==typeof module&&module.exports?module.exports=h():g.lscache=h()})(this,function(){function g(){if(void 0!==t)return t;if(!localStorage)return!1;try{d("__lscachetest__","__lscachetest__"),n("__lscachetest__"),t=!0}catch(w){t=h(w)&&localStorage.length?!0:!1}return t}function h(a){return a&&("QUOTA_EXCEEDED_ERR"===a.name||"NS_ERROR_DOM_QUOTA_REACHED"===a.name||"QuotaExceededError"===a.name)}function l(){void 0===z&&(z=null!=
window.JSON);return z}function d(a,d){localStorage.removeItem("lscache-"+q+a);localStorage.setItem("lscache-"+q+a,d)}function n(a){localStorage.removeItem("lscache-"+q+a)}function a(a){for(var d=new RegExp("^lscache-"+q.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")+"(.*)"),f=localStorage.length-1;0<=f;--f){var g=localStorage.key(f);(g=(g=g&&g.match(d))&&g[1])&&0>g.indexOf("-cacheexpiration")&&a(g,g+"-cacheexpiration")}}function v(a){var d=a+"-cacheexpiration";n(a);n(d)}function f(a){var d=a+"-cacheexpiration",
f=localStorage.getItem("lscache-"+q+d);if(f&&(f=parseInt(f,10),Math.floor((new Date).getTime()/6E4)>=f))return n(a),n(d),!0}function m(a,d){C&&"console"in window&&"function"===typeof window.console.warn&&(window.console.warn("lscache - "+a),d&&window.console.warn("lscache - The error was: "+d.message))}var H=Math.floor(144E9),t,z,q="",C=!1;return{set:function(f,t,z){if(g()&&l()){try{t=JSON.stringify(t)}catch(y){return}try{d(f,t)}catch(y){if(h(y)){var w=[],C;a(function(a,d){var f=localStorage.getItem("lscache-"+
q+d),f=f?parseInt(f,10):H;w.push({key:a,size:(localStorage.getItem("lscache-"+q+a)||"").length,expiration:f})});w.sort(function(a,d){return d.expiration-a.expiration});for(var J=(t||"").length;w.length&&0<J;)C=w.pop(),m("Cache is full, removing item with key '"+f+"'"),v(C.key),J-=C.size;try{d(f,t)}catch(T){m("Could not add item with key '"+f+"', perhaps it's too big?",T);return}}else{m("Could not add item with key '"+f+"'",y);return}}z?d(f+"-cacheexpiration",(Math.floor((new Date).getTime()/6E4)+
z).toString(10)):n(f+"-cacheexpiration")}},get:function(a){if(!g()||f(a))return null;a=localStorage.getItem("lscache-"+q+a);if(!a||!l())return a;try{return JSON.parse(a)}catch(P){return a}},remove:function(a){g()&&v(a)},supported:function(){return g()},flush:function(){g()&&a(function(a){v(a)})},flushExpired:function(){g()&&a(function(a){f(a)})},setBucket:function(a){q=a},resetBucket:function(){q=""},enableWarnings:function(a){C=a}}});(function(g,h){"object"===typeof exports&&"undefined"!==typeof module?h(exports):"function"===typeof define&&define.amd?define(["exports"],h):h(g.riot={})})(this,function(g){function h(a,b){return(b||document).querySelector(a)}function l(a){return"svg"===a?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)}function d(a,b,d){var k=hb.exec(b);k&&k[1]?a.setAttributeNS("http://www.w3.org/1999/xlink",k[1],d):a.setAttribute(b,d)}function n(a,b){return Object.getOwnPropertyDescriptor(a,
b)}function a(a){return"undefined"===typeof a}function v(b,d){var k=n(b,d);return a(b[d])||k&&k.writable}function f(a){for(var b,k=1,d=arguments,c=d.length;k<c;k++)if(b=d[k])for(var e in b)v(a,e)&&(a[e]=b[e]);return a}function m(a){return Object.create(a)}function H(a,b){return[].slice.call((b||document).querySelectorAll(a))}function t(){return document.createTextNode("")}function z(a,b){a.style.display=b?"":"none";a.hidden=b?!1:!0}function q(a,b,d){d?(b=a.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">'+
b+"</svg>","application/xml").documentElement,!0),a.appendChild(b)):a.innerHTML=b}function C(a,b){if(a)for(var k;k=ib.exec(a);)b(k[1].toLowerCase(),k[2]||k[3]||k[4])}function w(){return document.createDocumentFragment()}function P(a,b,d){a.insertBefore(b,d.parentNode&&d)}function ta(a){return Object.keys(a).reduce(function(b,k){return b+" "+k+": "+a[k]+";"},"")}function fa(a,b,d){if(a){d=b(a,d);var k;if(!1!==d)for(a=a.firstChild;a;)k=a.nextSibling,fa(a,b,d),a=k}}function ua(b){return a(b)||null===
b}function J(a){return ua(a)||""===a}function y(a){return"function"===typeof a}function T(a){return a&&"object"===typeof a}function ma(a){a=a.ownerSVGElement;return!!a||null===a}function U(a){return Array.isArray(a)||a instanceof Array}function na(a){return jb.test(a)}function G(a){return"string"===typeof a}function Q(a,b){return-1!==a.indexOf(b)}function A(a,b){for(var d=a?a.length:0,k=0;k<d;k++)b(a[k],k);return a}function qa(a,b){return a.slice(0,b.length)===b}function D(a,b,d,c){Object.defineProperty(a,
b,f({value:d,enumerable:!1,writable:!1,configurable:!0},c));return a}function ha(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})}function va(a){console&&console.warn&&console.warn(a)}function K(b,d,c,e,f){var k=b[d],B=U(k),Ga=!a(f);k&&k===c||(!k&&e?b[d]=[c]:k?B?(b=k.indexOf(c),b!==f&&(-1!==b&&k.splice(b,1),Ga?k.splice(f,0,c):k.push(c))):b[d]=[k,c]:b[d]=c)}function r(a){return a.tagName&&M[a.getAttribute("data-is")||a.getAttribute("data-is")||a.tagName.toLowerCase()]}function X(a,
b){var d=r(a),c=!b&&a.getAttribute("data-is");return c&&!F.hasExpr(c)?c:d?d.name:a.tagName.toLowerCase()}function E(){return this.parent?f(m(this),this.parent):this}function Fa(a,b){if(!kb.test(a))return a;var d={};b=b&&b.replace(lb,function(a,b,c){d[b]=d[b]||c;return""}).trim();return a.replace(mb,function(a,b,c){return d[b]||c||""}).replace(nb,function(a,d){return b||d||""})}function wa(a,b,d){var c=a&&a.match(/^\s*<([-\w]+)/),c=c&&c[1].toLowerCase(),k=l(d?"svg":"div");a=Fa(a,b);ob.test(c)?(d=k,
b=(k="o"===c[0])?"select>":"table>",d.innerHTML="<"+b+a.trim()+"</"+b,b=d.firstChild,k?b.selectedIndex=-1:(a=pb[c])&&1===b.childElementCount&&(b=h(a,b)),k=b):q(k,a,d);return k}function R(a){for(;a.__.isAnonymous&&a.parent;)a=a.parent;return a}function ra(a,b,d){var c=this.__.parent,k=this.__.item;if(!k)for(;c&&!k;)k=c.__.item,c=c.__.parent;v(d,"currentTarget")&&(d.currentTarget=a);v(d,"target")&&(d.target=d.srcElement);v(d,"which")&&(d.which=d.charCode||d.keyCode);d.item=k;b.call(this,d);Ha.autoUpdate&&
!d.preventUpdate&&(a=R(this),a.isMounted&&a.update())}function O(a,b,d,c){a=ya(a,b,d);b=b.tagName||X(b.root,!0);d=R(c);D(a,"parent",d);a.__.parent=c;K(d.tags,b,a);d!==c&&K(c.tags,b,a);return a}function S(a,b,d,c){U(a[b])?(d=a[b].indexOf(d),-1!==d&&a[b].splice(d,1),a[b].length?1!==a[b].length||c||(a[b]=a[b][0]):delete a[b]):a[b]===d&&delete a[b]}function ca(a,b){var d=t(),c=t(),k=w();this.root.insertBefore(d,this.root.firstChild);this.root.appendChild(c);this.__.head=d;for(this.__.tail=c;d;)c=d.nextSibling,
k.appendChild(d),this.__.virts.push(d),d=c;b?a.insertBefore(k,b.__.head):a.appendChild(k)}function V(a,b){var d=w();ca.call(a,d);b.parentNode.replaceChild(d,b)}function xa(a,b,c){var k=a.tag||a.dom._tag,e,f=(k?k.__:{}).head,B="VIRTUAL"===a.dom.tagName;k&&a.tagName===c?k.update():(k&&(B&&(e=t(),f.parentNode.insertBefore(e,f)),k.unmount(!0)),G(c)&&(a.impl=M[c],a.impl&&(a.tag=k=O(a.impl,{root:a.dom,parent:b,tagName:c},a.dom.innerHTML,b),A(a.attrs,function(a){return d(k.root,a.name,a.value)}),a.tagName=
c,k.mount(),B&&V(k,e||k.root),b.__.onUnmount=function(){var a=k.opts.dataIs;S(k.parent.tags,a,k);S(k.__.parent.tags,a,k);k.unmount()})))}function W(a){if(!this.root||!this.root.getAttribute("virtualized")){var b=a.dom,c;(c=a.attr)?(c=c.replace("riot-",""),Sa[c]&&(c=Sa[c])):c=null;var k=Q(["show","hide"],c),e=a.root&&"VIRTUAL"===a.root.tagName,f=this.__.isAnonymous,g=b&&(a.parent||b.parentNode),h="style"===c,l="class"===c;if(a._riot_id)a.__.wasCreated?a.update():(a.mount(),e&&V(a,a.root));else{if(a.update)return a.update();
var e=k&&!f?E.call(this):this,e=F(a.expr,e),f=!J(e),m=T(e);m&&(l?e=F(JSON.stringify(e),this):h&&(e=ta(e)));if(a.attr&&(!a.wasParsedOnce||!f||!1===e)){var p=b.getAttribute(a.attr)?a.attr:c;b.removeAttribute(p)}a.bool&&(e=e?c:!1);if(a.isRtag)return xa(a,this,e);if(!a.wasParsedOnce||a.value!==e)if(a.value=e,a.wasParsedOnce=!0,!m||l||h||k)f||(e=""),c?y(e)?(a=c,k=ra.bind(this,b,e),b[a]=null,c=a.replace(qb,""),Q(this.__.listeners,b)||this.__.listeners.push(b),b["__riot-events__"]||(b["__riot-events__"]=
{}),b["__riot-events__"][a]&&b.removeEventListener(c,b["__riot-events__"][a]),b["__riot-events__"][a]=k,b.addEventListener(c,k,!1)):k?z(b,"hide"===c?!e:e):(a.bool&&(b[c]=e),"value"===c&&b.value!==e?b.value=e:f&&!1!==e&&d(b,c,e),h&&b.hidden&&z(b,!1)):(e+="",g&&(a.parent=g,"TEXTAREA"===g.tagName?(g.value=e,Ia||(b.nodeValue=e)):b.nodeValue=e))}}}function da(a){A(a,W.bind(this))}function ia(a,b,d,c,e){if(!a||!d){var k=a?E.call(this):b||this;A(e,function(a){a.expr&&W.call(k,a.expr);c[ha(a.name).replace("riot-",
"")]=a.expr?a.expr.value:a.value})}}function ea(a){return a?a.filter(function(a){return!/[^-\w]/.test(a)}).reduce(function(a,b){var d=b.trim().toLowerCase();return a+',[data-is="'+d+'"]'},""):(a=Object.keys(M),a+ea(a))}function b(a,b){var d=this.name,e=this.tmpl,k=this.css,f=this.attrs,g=this.onCreate;M[d]||(c(d,e,k,f,g),M[d]["class"]=this.constructor);Ja(a,d,b,this);k&&ja.inject();return this}function c(a,b,d,c,e){y(c)&&(e=c,/^[\w-]+\s?=/.test(d)?(c=d,d=""):c="");d&&(y(d)?e=d:ja.add(d));a=a.toLowerCase();
M[a]={name:a,tmpl:b,attrs:c,fn:e};return a}function e(a,b,d,c,e){d&&ja.add(d,a);M[a]={name:a,tmpl:b,attrs:c,fn:e};return a}function x(a,b,c){function e(a){if(a.tagName){var k=a.getAttribute("data-is");b&&k!==b&&(k=b,d(a,"data-is",b));(a=Ja(a,k||a.tagName.toLowerCase(),c))&&f.push(a)}else a.length&&A(a,e)}var f=[],k;ja.inject();T(b)&&(c=b,b=0);G(a)&&(a=(a="*"===a?k=ea():a+ea(a.split(/, */)))?H(a):[]);if("*"===b){b=k||ea();if(a.tagName)a=H(b,a);else{var g=[];A(a,function(a){return g.push(H(b,a))});
a=g}b=0}e(a);return f}function u(b,d,c){if(T(b))u("__"+rb++ +"__",b,!0);else{c=c?sb:Ta;if(!d){if(a(c[b]))throw Error("Unregistered mixin: "+b);return c[b]}c[b]=y(d)?f(d.prototype,c[b]||{})&&d:f(c[b]||{},d)}}function p(){return A(ka,function(a){return a.update()})}function oa(a){M[a]=null}function bb(a){for(var b=[],d=arguments.length-1;0<d--;)b[d]=arguments[d+1];A(b,function(b){var d,c,e=[],f=["init","__proto__"];b=G(b)?u(b):b;d=y(b)?new b:b;var k=Object.getPrototypeOf(d);do e=e.concat(Object.getOwnPropertyNames(c||
d));while(c=Object.getPrototypeOf(c||d));A(e,function(b){if(!Q(f,b)){var c=n(d,b)||n(k,b),e=c&&(c.get||c.set);!a.hasOwnProperty(b)&&e?Object.defineProperty(a,b,c):a[b]=y(d[b])?d[b].bind(a):d[b]}});d.init&&d.init.bind(a)(a.opts)});return a}function L(a,b){var d=this.parent,c;d&&(c=d.tags[a],U(c)?c.splice(b,0,c.splice(c.indexOf(this),1)[0]):K(d.tags,a,this))}function Y(a,b){for(var d=this.__.head,c,e=w();d;)if(c=d.nextSibling,e.appendChild(d),d=c,d===this.__.tail){e.appendChild(d);a.insertBefore(e,
b.__.head);break}}function ba(a,b,d,c){c=c?m(c):{};c[a.key]=b;a.pos&&(c[a.pos]=d);return c}function ga(a,b){for(var d=b.length,c=a.length;d>c;)d--,cb.apply(b[d],[b,d])}function cb(a,b){a.splice(b,1);this.unmount();S(this.parent,this,this.__.tagName,!0)}function pa(a){var b=this;A(Object.keys(this.tags),function(d){L.apply(b.tags[d],[d,a])})}function db(a,b,d){d?Y.apply(this,[a,b]):P(a,this.root,b.root)}function eb(a,b,d){d?ca.apply(this,[a,b]):P(a,this.root,b.root)}function fb(a,b){b?ca.call(this,
a):a.appendChild(this.root)}function gb(a,b,d){var c;(c="string"!==typeof a.getAttribute("no-reorder"))||(a.removeAttribute("no-reorder"),c=void 0);var e=c,k=a.getAttribute("key"),g=k?F.hasExpr(k):!1,h=X(a),l=M[h];c=a.parentNode;var B=t(),p=r(a),n=a.getAttribute("if"),q=[],Ga=a.innerHTML,N=!M[h],u="VIRTUAL"===a.tagName,v=[],Aa;a.removeAttribute("each");a.removeAttribute("key");d=F.loopKeys(d);d.isLoop=!0;n&&a.removeAttribute("if");c.insertBefore(B,a);c.removeChild(a);d.update=function(){d.value=F(d.val,
b);var c=d.value,Qa=w(),Z=!U(c)&&!G(c),sa=B.parentNode,r=[];sa&&(Z?c=(Aa=c||!1)?Object.keys(c).map(function(a){return ba(d,c[a],a)}):[]:Aa=!1,n&&(c=c.filter(function(a,c){return d.key&&!Z?!!F(n,ba(d,a,c,b)):!!F(n,f(m(b),a))})),A(c,function(B,m){var Z=!Aa&&d.key?ba(d,B,m):B,n;n=k?g?F(k,Z):B[k]:B;var za=e&&"object"===typeof B&&!Aa,aa=v.indexOf(n),t=-1===aa,aa=!t&&za?aa:m,I=q[aa],Ra=m>=v.length;if(t=za&&t||!za&&!I)I=ya(l,{parent:b,isLoop:!0,isAnonymous:N,tagName:h,root:a.cloneNode(N),item:Z,index:m},
Ga),I.mount(),Ra?fb.apply(I,[Qa||sa,u]):eb.apply(I,[sa,q[m],u]),Ra||v.splice(m,0,Z),q.splice(m,0,I),p&&K(b.tags,h,I,!0);else if(aa!==m&&za){if(k||Q(c,v[aa]))db.apply(I,[sa,q[m],u]),q.splice(m,0,q.splice(aa,1)[0]),v.splice(m,0,v.splice(aa,1)[0]);d.pos&&(I[d.pos]=m);!p&&I.tags&&pa.call(I,m)}f(I.__,{item:Z,index:m,parent:b});r[m]=n;t||I.update(Z)}),ga(c,q),v=r.slice(),sa.insertBefore(Qa,B))};d.unmount=function(){A(q,function(a){a.unmount()})};return d}function Pa(a,b,d,c){return m(Ua).init(a,b,d,c)}
function Ba(a){A(a,function(a){a.unmount?a.unmount(!0):a.tagName?a.tag.unmount(!0):a.unmount&&a.unmount()})}function Va(a,b,d){return m(tb).init(a,b,d)}function Wa(a,b){var c=this,e=[];fa(a,function(f){var k=f.nodeType,g;if(b||f!==a)if(3===k&&"STYLE"!==f.parentNode.tagName&&F.hasExpr(f.nodeValue)&&e.push({dom:f,expr:f.nodeValue}),1===k){k="VIRTUAL"===f.tagName;if(g=f.getAttribute("each"))return k&&d(f,"loopVirtual",!0),e.push(gb(f,c,g)),!1;if(g=f.getAttribute("if"))return e.push(Va(f,c,g)),!1;if((g=
f.getAttribute("data-is"))&&F.hasExpr(g))return e.push({isRtag:!0,expr:g,dom:f,attrs:[].slice.call(f.attributes)}),!1;g=r(f);k&&(f.getAttribute("virtualized")&&f.parentElement.removeChild(f),g||f.getAttribute("virtualized")||f.getAttribute("loopVirtual")||(g={tmpl:f.outerHTML}));if(g&&(f!==a||b))if(k)f.getAttribute("data-is")&&va('Virtual tags shouldn\'t be used together with the "data-is" attribute - https://github.com/riot/riot/issues/2511'),d(f,"virtualized",!0),k=ya({tmpl:f.outerHTML},{root:f,
parent:c},f.innerHTML),e.push(k);else return e.push(O(g,{root:f,parent:c},f.innerHTML,c)),!1;Ka.apply(c,[f,f.attributes,function(a,b){b&&e.push(b)}])}});return e}function Ka(a,b,d){var c=this;A(b,function(b){if(!b)return!1;var e=b.name,f=na(e),k;Q(ub,e)&&"yield"!==a.tagName.toLowerCase()?k=Pa(a,c,e,b.value):F.hasExpr(b.value)&&(k={dom:a,expr:b.value,attr:e,bool:f});d(b,k)})}function Ca(a){var b=this.__.isAnonymous;D(this,"isMounted",a);b||(a?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),
this.__.wasCreated=!1))}function vb(a,b,c,e){var f=a.__,g=f.root;g._tag=a;Ka.apply(f.parent,[g,g.attributes,function(b,d){!f.isAnonymous&&Ua.isPrototypeOf(d)&&(d.tag=a);b.expr=d;f.instAttrs.push(b)}]);C(f.impl.attrs,function(a,b){f.implAttrs.push({name:a,value:b})});Ka.apply(a,[g,f.implAttrs,function(a,b){b?c.push(b):d(g,a.name,a.value)}]);ia.apply(a,[f.isLoop,f.parent,f.isAnonymous,e,f.instAttrs]);var k=u("__global_mixin");if(k&&!f.skipAnonymous)for(var h in k)k.hasOwnProperty(h)&&a.mixin(k[h]);
f.impl.fn&&f.impl.fn.call(a,e);f.skipAnonymous||a.trigger("before-mount");A(Wa.apply(a,[b,f.isAnonymous]),function(a){return c.push(a)});a.update(f.item);if(!f.isAnonymous&&!f.isInline)for(;b.firstChild;)g.appendChild(b.firstChild);D(a,"root",g);!f.skipAnonymous&&a.parent?(b=R(a.parent),b.one(b.isMounted?"updated":"mount",function(){Ca.call(a,!0)})):Ca.call(a,!0);a.__.wasCreated=!0;return a}function wb(a,b,d){var c=a.__,e=c.root,f=ka.indexOf(a),g=e.parentNode;c.skipAnonymous||a.trigger("before-unmount");
C(c.impl.attrs,function(a){qa(a,"riot-")&&(a=a.slice(5));e.removeAttribute(a)});a.__.listeners.forEach(function(a){Object.keys(a["__riot-events__"]).forEach(function(b){a.removeEventListener(b,a["__riot-events__"][b])})});-1!==f&&ka.splice(f,1);if(c.parent&&!c.isAnonymous){var k=R(c.parent);c.isVirtual?Object.keys(a.tags).forEach(function(b){return S(k.tags,b,a.tags[b])}):S(k.tags,c.tagName,a)}a.__.virts&&A(a.__.virts,function(a){a.parentNode&&a.parentNode.removeChild(a)});Ba(d);A(c.instAttrs,function(a){return a.expr&&
a.expr.unmount&&a.expr.unmount()});b?q(e,""):g&&g.removeChild(e);if(c.onUnmount)c.onUnmount();a.isMounted||Ca.call(a,!0);Ca.call(a,!1);delete e._tag;return a}function ya(a,b,d){void 0===a&&(a={});void 0===b&&(b={});var c=b.context||{},e=f({},b.opts),g=b.parent,k=b.isLoop,h=!!b.isAnonymous,l=Ha.skipAnonymousTags&&h,m=b.item,p=b.index,B=[],n=b.root;b=b.tagName||X(n);var q="virtual"===b,N=!q&&!a.tmpl,r;l||La(c);a.name&&n._tag&&n._tag.unmount(!0);D(c,"isMounted",!1);D(c,"__",{impl:a,root:n,skipAnonymous:l,
implAttrs:[],isAnonymous:h,instAttrs:[],innerHTML:d,tagName:b,index:p,isLoop:k,isInline:N,item:m,parent:g,listeners:[],virts:[],wasCreated:!1,tail:null,head:null});D(c,"_riot_id",Xa());D(c,"root",n);f(c,{opts:e},m);D(c,"parent",g||null);D(c,"tags",{});D(c,"refs",{});N||k&&h?r=n:(q||(n.innerHTML=""),r=wa(a.tmpl,d,ma(n)));D(c,"update",function(a){var b=c.__,d={},e=c.isMounted&&!b.skipAnonymous;b.isAnonymous&&b.parent&&f(c,b.parent);f(c,a);ia.apply(c,[b.isLoop,b.parent,b.isAnonymous,d,b.instAttrs]);
e&&c.isMounted&&y(c.shouldUpdate)&&!c.shouldUpdate(a,d)||(f(c.opts,d),e&&c.trigger("update",a),da.call(c,B),e&&c.trigger("updated"));return c});D(c,"mixin",function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return bb.apply(void 0,[c].concat(a))});D(c,"mount",function(){return vb(c,r,B,e)});D(c,"unmount",function(a){return wb(c,a,B)});return c}function Ja(a,b,c,d){var e=M[b];b=M[b]["class"];b=d||(b?m(b.prototype):{});d=a._innerHTML=a._innerHTML||a.innerHTML;c=f({root:a,opts:c,context:b},
{parent:c?c.parent:null});var g;e&&a&&(g=ya(e,c,d));g&&g.mount&&(g.mount(!0),Q(ka,g)||ka.push(g));return g}var ka=[],M={},ub=["ref","data-ref"],hb=/^xlink:(\w+)/,Da="undefined"===typeof window?void 0:window,xb=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,yb=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,qb=/^on/,ib=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,Sa={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},jb=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,
Ia=(Da&&Da.document||{}).documentMode|0,Ea,Ma,Na={},Ya=[],Oa=!1;Da&&(Ea=function(){var a=l("style"),b=h("style[type=riot]");d(a,"type","text/css");b?(b.id&&(a.id=b.id),b.parentNode.replaceChild(a,b)):document.head.appendChild(a);return a}(),Ma=Ea.styleSheet);var ja={styleNode:Ea,add:function(a,b){b?Na[b]=a:Ya.push(a);Oa=!0},inject:function(){if(Da&&Oa){Oa=!1;var a=Object.keys(Na).map(function(a){return Na[a]}).concat(Ya).join("\n");Ma?Ma.cssText=a:Ea.innerHTML=a}}},Za=function(){function a(a,b){for(;0<=
--b&&/\s/.test(a[b]););return b}var b="case default do else in instanceof prefix return typeof void yield".split(" "),c=b.reduce(function(a,b){return a+b.slice(-1)},""),d=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,e=/[$\w]/;return function(f,g){var h=/.*/g,k=h.lastIndex=g++;if(h=h.exec(f)[0].match(d)){var h=k+h[0].length,k=a(f,k),l=f[k];if(0>k||~"[{(,;:?=|&!^~>%*/".indexOf(l))return h;if("."===l)"."===f[k-1]&&(g=h);else if("+"===l||"-"===l){if(f[--k]!==l||0>(k=a(f,
k))||!e.test(f[k]))g=h}else if(~c.indexOf(l)){for(l=k+1;0<=--k&&e.test(f[k]););~b.indexOf(f.slice(k+1,l))&&(g=h)}}return g}}(),la=function(a){function b(a){return a}function c(a,b){b||(b=q);return new RegExp(a.source.replace(/{/g,b[2]).replace(/}/g,b[3]),a.global?"g":"")}function d(a){if("{ }"===a)return n;var b=a.split(" ");if(2!==b.length||k.test(a))throw Error('Unsupported brackets "'+a+'"');b=b.concat(a.replace(l,"\\").split(" "));b[4]=c(1<b[1].length?/{[\S\s]*?}/:n[4],b);b[5]=c(3<a.length?/\\({|})/g:
n[5],b);b[6]=c(n[6],b);b[7]=RegExp("\\\\("+b[3]+")|([[({])|("+b[3]+")|"+m,"g");b[8]=a;return b}function e(a){return a instanceof RegExp?N(a):q[a]}function f(a){(a||(a="{ }"))!==q[8]&&(q=d(a),N="{ }"===a?b:c,q[9]=N(n[9]));r=a}var g=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,h=g.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,k=/[\x00-\x1F<>a-zA-Z0-9'",;\\]/,
l=/(?=[[\]()*+?.^$|])/g,m=g.source+"|"+/(\/)(?![*\/])/.source,p={"(":RegExp("([()])|"+m,"g"),"[":RegExp("([[\\]])|"+m,"g"),"{":RegExp("([{}])|"+m,"g")},n=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+m,"g"),"{ }",/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],r=a,N,q=[],t;e.split=function(a,b,c){function d(a){r&&(a=r+a,r="");b||h?f.push(a&&a.replace(c[5],"$1")):f.push(a)}function e(c,d,e){e&&(d=Za(a,c));b&&d>c+2&&(N="\u2057"+n.length+
"~",n.push(a.slice(c,d)),r+=a.slice(k,c)+N,k=d);return d}c||(c=q);var f=[],g,h,k,l,m=c[6],n=[],r="",N,t;for(h=k=m.lastIndex=0;g=m.exec(a);){t=m.lastIndex;l=g.index;if(h){if(g[2]){l=g[2];var u=p[l],v=1;for(u.lastIndex=t;g=u.exec(a);)if(g[1])if(g[1]===l)++v;else{if(!--v)break}else u.lastIndex=e(g.index,u.lastIndex,g[2]);m.lastIndex=v?a.length:u.lastIndex;continue}if(!g[3]){m.lastIndex=e(l,t,g[4]);continue}}g[1]||(d(a.slice(k,l)),k=m.lastIndex,m=c[6+(h^=1)],m.lastIndex=k)}a&&k<a.length&&d(a.slice(k));
f.qblocks=n;return f};e.hasExpr=function(a){return q[4].test(a)};e.loopKeys=function(a){var b=a.match(q[9]);return b?{key:b[1],pos:b[2],val:q[0]+b[3].trim()+q[1]}:{val:a.trim()}};e.array=function(a){return a?d(a):q};Object.defineProperty(e,"settings",{set:function(a){var b;a=a||{};b=a.brackets;Object.defineProperty(a,"brackets",{set:f,get:function(){return r},enumerable:!0});t=a;f(b)},get:function(){return t}});e.settings="undefined"!==typeof riot&&riot.settings||{};e.set=f;e.skipRegex=Za;e.R_STRINGS=
g;e.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g;e.S_QBLOCKS=h;e.S_QBLOCK2=m;return e}(),F=function(){function a(a,d){return a?(g[a]||(g[a]=c(a))).call(d,b.bind({data:d,tmpl:a})):a}function b(b,c){b.riotData={tagName:c&&c.__&&c.__.tagName,_riot_id:c&&c._riot_id};a.errorHandler?a.errorHandler(b):"undefined"!==typeof console&&"function"===typeof console.error&&(console.error(b.message),console.log("<%s> %s",b.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}function c(a){a=d(a);
"try{return "!==a.slice(0,11)&&(a="return "+a);return new Function("E",a+";")}function d(a){a=la.split(a.replace(h,'"'),1);var b=a.qblocks,c;if(2<a.length||a[0]){var d,f,g=[];for(d=f=0;d<a.length;++d)(c=a[d])&&(c=d&1?e(c,1,b):'"'+c.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(g[f++]=c);c=2>f?g[0]:"["+g.join(",")+'].join("")'}else c=e(a[1],0,b);b.length&&(c=c.replace(l,function(a,c){return b[c].replace(/\r/g,"\\r").replace(/\n/g,"\\n")}));return c}function e(a,b,c){if(a=
a.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var d=[],e=0,g;a&&(g=a.match(m))&&!g.index;){var h,k,l=/,|([[{(])|$/g;a=RegExp.rightContext;for(h=g[2]?c[g[2]].slice(1,-1).trim().replace(/\s+/g," "):g[1];k=(g=l.exec(a))[1];){var n=l,q=1,r=p[k];for(r.lastIndex=n.lastIndex;g=r.exec(a);)if(g[0]===k)++q;else if(!--q)break;n.lastIndex=q?a.length:r.lastIndex}k=a.slice(0,g.index);a=RegExp.rightContext;d[e++]=f(k,1,h)}a=e?1<e?"["+d.join(",")+'].join(" ").trim()':d[0]:f(a,b)}return a}
function f(a,b,c){var d;a=a.replace(q,function(a,b,c,e,f){c&&(e=d?0:e+a.length,"this"!==c&&"global"!==c&&"window"!==c?(a=b+'("'+c+n+c,e&&(d="."===(f=f[e])||"("===f||"["===f)):e&&(d=!r.test(f.slice(e))));return a});d&&(a="try{return "+a+"}catch(e){E(e,this)}");c?a=(d?"function(){"+a+"}.call(this)":"("+a+")")+'?"'+c+'":""':b&&(a="function(v){"+(d?a.replace("return ","v="):"v=("+a+")")+';return v||v===0?v:""}.call(this)');return a}var g={};a.hasExpr=la.hasExpr;a.loopKeys=la.loopKeys;a.clearCache=function(){g=
{}};a.errorHandler=null;var h=/\u2057/g,l=/\u2057(\d+)~/g,m=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,p={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},n='"in this?this:'+("object"!==typeof window?"global":"window")+").",q=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,r=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;a.version=la.version="v3.0.8";return a}(),La=function(a){a=a||{};var b={},
c=Array.prototype.slice;Object.defineProperties(a,{on:{value:function(c,d){"function"==typeof d&&(b[c]=b[c]||[]).push(d);return a},enumerable:!1,writable:!1,configurable:!1},off:{value:function(c,d){if("*"!=c||d)if(d)for(var e=b[c],f=0,g;g=e&&e[f];++f)g==d&&e.splice(f--,1);else delete b[c];else b={};return a},enumerable:!1,writable:!1,configurable:!1},one:{value:function(b,c){function d(){a.off(b,d);c.apply(a,arguments)}return a.on(b,d)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(d){var e=
arguments,f=arguments.length-1,g=Array(f),h;for(h=0;h<f;h++)g[h]=e[h+1];e=c.call(b[d]||[],0);for(h=0;f=e[h];++h)f.apply(a,g);b["*"]&&"*"!=d&&a.trigger.apply(a,["*",d].concat(g));return a},enumerable:!1,writable:!1,configurable:!1}});return a},Ha=f(m(la.settings),{skipAnonymousTags:!0,autoUpdate:!0}),zb=Object.freeze({$$:H,$:h,createDOMPlaceholder:t,mkEl:l,setAttr:d,toggleVisibility:z,getAttr:function(a,b){return a.getAttribute(b)},remAttr:function(a,b){a.removeAttribute(b)},setInnerHTML:q,walkAttrs:C,
createFrag:w,safeInsert:P,styleObjectToString:ta,walkNodes:fa}),Ab=Object.freeze({isBlank:J,isFunction:y,isObject:T,isSvg:ma,isWritable:v,isArray:U,isBoolAttr:na,isNil:ua,isString:G,isUndefined:a}),Xa=function(){var a=-1;return function(){return++a}}(),Bb=Object.freeze({contains:Q,each:A,getPropDescriptor:n,startsWith:qa,uid:Xa,defineProperty:D,objectCreate:m,extend:f,toCamel:ha,warn:va}),kb=/<yield\b/i,nb=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/ig,lb=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/ig,
mb=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/ig,pb={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},ob=Ia&&10>Ia?xb:yb,Ta={},sb=Ta.__global_mixin={},rb=0,Cb=Object.freeze({Tag:b,tag:c,tag2:e,mount:x,mixin:u,update:p,unregister:oa,version:"v3.9.0"}),Ua={init:function(a,b,c,d){this.dom=a;this.attr=c;this.rawValue=d;this.parent=b;this.hasExp=F.hasExpr(d);return this},update:function(){var a=this.value,b=this.parent&&R(this.parent),c=this.dom.__ref||this.tag||this.dom;this.value=
this.hasExp?F(this.rawValue,this.parent):this.rawValue;!J(a)&&b&&S(b.refs,a,c);!J(this.value)&&G(this.value)?(b&&K(b.refs,this.value,c,null,this.parent.__.index),this.value!==a&&d(this.dom,this.attr,this.value)):this.dom.removeAttribute(this.attr);this.dom.__ref||(this.dom.__ref=c)},unmount:function(){var a=this.tag||this.dom,b=this.parent&&R(this.parent);!J(this.value)&&b&&S(b.refs,this.value,a)}},tb={init:function(a,b,c){a.removeAttribute("if");f(this,{tag:b,expr:c,stub:t(),pristine:a});b=a.parentNode;
b.insertBefore(this.stub,a);b.removeChild(a);return this},update:function(){(this.value=F(this.expr,this.tag))&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=Wa.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(Ba(this.expressions),this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current),this.current=null,this.expressions=[]);this.value&&
da.call(this.tag,this.expressions)},unmount:function(){Ba(this.expressions||[])}},Db=Object.freeze({arrayishAdd:K,getTagName:X,inheritParentProps:E,mountTo:Ja,selectTags:ea,arrayishRemove:S,getTag:r,initChildTag:O,moveChildTag:L,makeReplaceVirtual:V,getImmediateCustomParentTag:R,makeVirtual:ca,moveVirtual:Y,unmountAll:Ba,createIfDirective:Va,createRefDirective:Pa}),$a=Ha,ab={tmpl:F,brackets:la,styleManager:ja,vdom:ka,styleNode:ja.styleNode,dom:zb,check:Ab,misc:Bb,tags:Db},Eb=c,Fb=u,Gb=La,Hb=f({},
Cb,{observable:La,settings:$a,util:ab});g.settings=$a;g.util=ab;g.Tag=b;g.tag=Eb;g.tag2=e;g.mount=x;g.mixin=Fb;g.update=p;g.unregister=oa;g.version="v3.9.0";g.observable=Gb;g["default"]=Hb;Object.defineProperty(g,"__esModule",{value:!0})});+function(g){function h(a){return this.each(function(){var d=g(this),f=d.data("bs.tab");f||d.data("bs.tab",f=new l(this));if("string"==typeof a)f[a]()})}var l=function(a){this.element=g(a)};l.VERSION="3.3.7";l.TRANSITION_DURATION=150;l.prototype.show=function(){var a=this.element,d=a.closest("ul:not(.dropdown-menu)"),f=a.data("target");f||(f=(f=a.attr("href"))&&f.replace(/.*(?=#[^\s]*$)/,""));if(!a.parent("li").hasClass("active")){var h=d.find(".active:last a"),l=g.Event("hide.bs.tab",{relatedTarget:a[0]}),
n=g.Event("show.bs.tab",{relatedTarget:h[0]});h.trigger(l);a.trigger(n);n.isDefaultPrevented()||l.isDefaultPrevented()||(f=g(f),this.activate(a.closest("li"),d),this.activate(f,f.parent(),function(){h.trigger({type:"hidden.bs.tab",relatedTarget:a[0]});a.trigger({type:"shown.bs.tab",relatedTarget:h[0]})}))}};l.prototype.activate=function(a,d,f){function h(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);a.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",
!0);t?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade");a.parent(".dropdown-menu").length&&a.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);f&&f()}var n=d.find("> .active"),t=f&&g.support.transition&&(n.length&&n.hasClass("fade")||!!d.find("> .fade").length);n.length&&t?n.one("bsTransitionEnd",h).emulateTransitionEnd(l.TRANSITION_DURATION):h();n.removeClass("in")};var d=g.fn.tab;g.fn.tab=h;g.fn.tab.Constructor=l;g.fn.tab.noConflict=function(){g.fn.tab=
d;return this};var n=function(a){a.preventDefault();h.call(g(this),"show")};g(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery);
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,e){if(e.get||e.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[c]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var e=0,f={next:function(){if(e<a.length){var g=e++;return{value:c(g,a[g]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill=function(a,c,e,f){if(c){e=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var g=a[f];g in e||(e[g]={});e=e[g]}a=a[a.length-1];f=e[a];c=c(f);c!=f&&null!=c&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
riot.tag2("datatable",'<div class="panel panel-default table-responsive" riot-style="margin-bottom: {opts.marginBottom}"> <table class="table {opts.tableClass}"> <thead if="{showTableHeader}"> <tr> <th each="{column, index in columns}" riot-style="width: {column.width}"> {tr(column.label)} </th> </tr> </thead> <tbody> <tr if="{!data || (Array.isArray(data) && data.length == 0) || Object.keys(data).length == 0}"> <td colspan="{columns.length}">{message}</td> </tr> <tr class="{rowClassCallback(elem)}" each="{elem, index in data}"> <td each="{column, index2 in columns}" colspan="{column.colspan}" if="{column.showBody == undefined}" riot-style="width: {column.width}"> <virtual if="{column.linkCallback == undefined}"> <span if="{column.callback != undefined && column.type == \'subtable\'}"> <datatable message="{column.message}" columns="{column.callback(elem, index)}" data="{elem}" actions="{actions}" no-table-footer no-table-header margin-bottom="0"></datatable> </span> <span if="{column.callback != undefined && column.type != \'subtable\'}"> {column.callback(elem, index)} </span> <span if="{column.callback == undefined && elem[column.value] != undefined}"> {elem[column.value]} </span> <span if="{column.callback == undefined && elem[column.label] != undefined}"> {elem[column.label]} </span> </virtual> <a if="{column.linkCallback != undefined}" href="{column.linkCallback(elem, index)}" target="_blank"> <span if="{column.callback != undefined && column.type != \'subtable\'}"> {column.callback(elem, index)} </span> <span if="{column.callback == undefined && elem[column.label] != undefined}"> {elem[column.label]} </span> <span if="{column.isRedirectedCallback != undefined && column.isRedirectedCallback(elem)}" class="badge">Redirected</span> </a> <virtual each="{action in actions}" if="{column.label == \'Actions\'}"> <a if="{action.action == \'callback\'}" disabled="{action.isDisabledCallback !== undefined && action.isDisabledCallback(elem)}" onclick="{action.callback.bind(this, elem)}" class="btn btn-sm btn-{action.btnType}"> {(action.labelCallback !== undefined && action.labelCallback(elem)) || tr(action.label)}</a> <a href="{action.url}/?id={encodeURIComponent(elem[\'ID\'])}" if="{action.action == \'link\'}" class="btn-flat">{tr(action.label)}</a> <a data-toggle="modal" data-target="{action.target}" onclick="{modalOpened}" if="{action.action == \'modal-link\'}" class="btn">{tr(action.label)}</a> </virtual> </td> </tr> </tbody> <tfoot if="{showTableFooter}"> <tr> <th each="{column, index in columns}"> {tr(column.label)} </th> </tr> </tfoot> </table> </div>',"",
"",function(a){var c=this;c.columns=a.columns||[];c.columnNames=a.columnNames;c.events=a.events||riot.observable();c.disableLinking="true"===a.disableLinking;c.rowClassCallback=a.rowClassCallback||function(){};c.showTableHeader=void 0===a.noTableHeader;c.showTableFooter=void 0===a.noTableFooter;c.data=a.data;c.tr=a.trFunc||function(a){return a};c.modalOpened=function(a){c.events.trigger("modal-opened",a,this.elem,c)};c.linkBaseURL=a.linkBaseurl||"";c.actions=a.actions;c.url=void 0==a.url?"":replacePlaceholdersWithQueryVariables(a.url);
c.message="No data loaded or available yet.";c.on("mount",function(){c.events.on("create",e);void 0!==a.actions&&(c.actions=a.actions)});c.on("unmount",function(){c.events.off("create",e)});c.on("update",function(){void 0!==a.message&&(c.message=a.message);void 0!==a.actions&&(c.actions=a.actions)});var e=function(a){c.data.unshift(a);c.update()}});riot.tag2("linkchecker-form",'<form onsubmit="{submit}" style="margin-bottom: 20px;"> <div class="form-group"> <label>Website URL</label> <input ref="websiteURL" type="url" class="form-control" placeholder="The URL of the website to check, for example \'https://www.marcobeierer.com\'." disabled="{disabled}" required> </div> <div class="form-group"> <label>Token</label> <textarea ref="token" class="form-control" style="min-height: 100px" placeholder="A token is only necessary to check a website with more than 500 internal or external links or if you like to use the paid extra features." disabled="{disabled}"></textarea> </div> <div class="checkbox"> <label> <input ref="showWorkingRedirects" type="checkbox"> Show working redirects </label> </div> <button class="btn btn-default" type="submit" if="{!disabled}">Check your website</button> <button class="btn btn-danger" onclick="{stopCheck}" if="{disabled}">Stop website check</button> </form>',
"","",function(a){var c=this;c.disabled=!1;c.on("mount",function(){void 0!=a.websiteUrl&&(this.refs.websiteURL.value=a.websiteUrl);void 0!=a.token&&(this.refs.token.value=a.token,a.linkchecker.trigger("token-loaded",this.refs.token.value))});this.submit=function(c){c.preventDefault();a.linkchecker.trigger("start",this.refs.websiteURL.value,this.refs.token.value,this.refs.showWorkingRedirects.checked)}.bind(this);this.stopCheck=function(c){c.preventDefault();a.linkchecker.trigger("stop")}.bind(this);
a.linkchecker.on("started",function(){c.disabled=!0});a.linkchecker.on("stopped",function(){c.disabled=!1;c.update()})});riot.tag2("linkchecker-scheduler",'<div if="{token}" class="alert alert-{messageType}"> <raw content="{message}"></raw> </div> <div class="panel panel-default" if="{!token}"> <div class="panel-heading">Description</div> <div class="panel-body"> <p>The scheduler is an additional service for all users who have bought a token for the <a href="https://www.marcobeierer.com/wordpress-plugins/link-checker-professional" target="_blank">Link Checker Professional</a>.</p> <p>If you register your site to the scheduler, a link check is automatically triggered once a day and you receive an email notification with a summary report after the check has finished. If a dead link was found, you can use the default Link Checker interface to fetch the detailed results.</p> </div> </div> <div class="panel panel-primary" if="{token && !registered}"> <div class="panel-heading">Register your website</div> <div class="panel-body"> <p>If you register your site to the scheduler, a link check is automatically triggered once a day and you receive an email notification with a summary report after the check has finished. If a dead link was found, you can use the default Link Checker interface to fetch the detailed results.</p> <form onsubmit="{register}"> <input type="hidden" name="Service" value="Link Checker"> <input type="hidden" name="IntervalInNs" value="86400000000000"> <div style="display: none;" class="form-group"> <label>Website URL</label> <input class="form-control" name="URL" type="text" riot-value="{websiteURL}" readonly="readonly" required> </div> <div class="form-group"> <label>Email address for notifications</label> <input class="form-control" name="Email" riot-value="{email}" required type="{\'email\'}"> </div> <button class="btn btn-default" type="submit">Register</button> </form> </div> </div> <div class="panel panel-primary" if="{token && registered}"> <div class="panel-heading">Deregister your website</div> <div class="panel-body"> <p>Your site is registered to the scheduler and you should receive status emails regularly. Use the button below if you like to disable the automated checks.</p> <form onsubmit="{deregister}"> <input type="hidden" name="Service" value="Link Checker"> <div style="display: none;" class="form-group"> <label>Website URL</label> <input class="form-control" name="URL" type="text" riot-value="{websiteURL}" readonly="readonly" required> </div> <button class="btn btn-default" type="submit">Deregister</button> </form> </div> </div>',
"","",function(a){var c=this;c.registered=!1;c.websiteURL=a.websiteUrl||"";c.token=a.token||"";c.email=a.email||"";c.apiURL="https://api.marcobeierer.com/scheduler/v1/";"1"===a.dev&&(c.apiURL="http://marco-desktop:9999/scheduler/v1/");this.setMessage=function(a,f){c.message=a;c.messageType=f;c.update()}.bind(this);c.setMessage("Loading status.","info");this.tokenHeader=function(){return""!=c.token?"BEARER "+c.token:""}.bind(this);this.status=function(){jQuery.ajax({method:"GET",url:c.apiURL+"?Service=Link Checker&URL="+
c.websiteURL,headers:{Authorization:c.tokenHeader()}}).done(function(a,f,g){204==g.status?(c.setMessage("Your website isn't registered for the scheduler currently. Please use the form below to register your site.","info"),c.registered=!1):(c.setMessage("Your website is registered to the scheduler currently. You can use the form below to deregister your site.","info"),c.registered=!0)}).fail(function(a,f,g){401==a.status?c.setMessage("The validation of your token failed. The token is invalid or has expired. Please try it again or contact me if the token should be valid.",
"danger"):504==a.status||503==a.status?c.setMessage("The backend server is temporarily unavailable. Please try it again later.","danger"):c.setMessage("Something went wrong. Please try it again later.","danger")}).always(function(){c.update()})}.bind(this);c.status();this.register=function(a){a.preventDefault();a=jQuery(a.target).serializeObject();a.IntervalInNs=parseInt(a.IntervalInNs);a=JSON.stringify(a);jQuery.ajax({method:"POST",url:c.apiURL,data:a,dataType:"text",headers:{Authorization:c.tokenHeader()}}).done(function(a,
e,h){c.setMessage("You have successfully registered your website to the scheduler.","success");c.registered=!0}).fail(function(a,e,h){console.log(a.status);401==a.status?c.setMessage("The validation of your token failed. The token is invalid or has expired. Please try it again or contact me if the token should be valid.","danger"):504==a.status||503==a.status?c.setMessage("The backend server is temporarily unavailable. Please try it again later.","danger"):c.setMessage("Something went wrong. Please try it again later.",
"danger")}).always(function(){c.update()})}.bind(this);this.deregister=function(a){a.preventDefault();a=jQuery(a.target).serializeJSON();jQuery.ajax({method:"DELETE",url:c.apiURL,data:a,dataType:"text",headers:{Authorization:c.tokenHeader()}}).done(function(a,e,h){c.setMessage("You have successfully deregistered your website from the scheduler.","success");c.registered=!1}).fail(function(a,e,h){c.setMessage("Something went wrong. Please try it again later.","danger")}).always(function(){c.update()})}.bind(this)});riot.tag2("linkchecker",'<form if="{showButton}" style="margin-bottom: 20px;"> <button class="btn btn-default" onclick="{submit}" if="{!disabled}">Check your website</button> <button class="btn btn-danger" onclick="{stopCheck}" if="{disabled}">Stop website check</button> </form> <div class="alert alert-{messageType}"> <raw content="{message}"></raw> </div> <div if="{crawlDelayInSeconds >= 1}" class="alert alert-danger"> The crawl-delay set in your robots.txt file is equal or higher than one second, namely {crawlDelayInSeconds} seconds. The crawl-delay defines the time waited between two requests of the Link Checker. This means that it might take very long for the check to finish. It is recommended that you lower the crawl-delay for the Link Checker in your robots.txt. You can use the user agent MB-LinkChecker if you like to define a custom crawl-delay for the Link Checker. </div> <ul class="nav nav-tabs" role="tablist"> <li role="presentation" class="active"><a href="#progressAndStats{id}" aria-controls="progressAndStats{id}" role="tab" data-toggle="tab">Progress and Stats</a></li> <li role="presentation"><a href="#links{id}" aria-controls="links{id}" role="tab" data-toggle="tab">Links</a></li> <li role="presentation"><a href="#images{id}" aria-controls="images{id}" role="tab" data-toggle="tab">Images</a></li> <li role="presentation"><a href="#youTubeVideos{id}" aria-controls="youTubeVideos{id}" role="tab" data-toggle="tab">YouTube Videos</a></li> <li role="presentation"><a href="#statusCodes{id}" aria-controls="statusCodes{id}" role="tab" data-toggle="tab">Common Status Codes</a></li> <li role="presentation"><a href="#unhandledResources{id}" aria-controls="unhandledResources{id}" role="tab" data-toggle="tab">Unhandled Resources</a></li> <li if="{enableScheduler}" role="presentation"><a href="#scheduler{id}" aria-controls="scheduler{id}" role="tab" data-toggle="tab">Scheduler</a></li> </ul> <div class="tab-content"> <div role="tabpanel" class="tab-pane active" id="progressAndStats{id}"> <h3>Progress and Stats</h3> <div class="row"> <div class="col-lg-6"> <div class="panel panel-default"> <div class="panel-heading">Stats</div> <table class="table table-bordered"> <tr> <td>Number of crawled HTML pages on your site</td> <td class="text-right" style="width: 200px;">{urlsCrawledCount}</td> </tr> <tr> <td>Number of checked internal and external resources</td> <td class="text-right">{checkedLinksCount}</td> </tr> <tr if="{data.Stats}"> <td>Started at</td> <td class="text-right">{datetime(data.Stats.StartedAt)}</td> </tr> <tr if="{data.Stats}"> <td>Finished at</td> <td class="text-right">{datetime(data.Stats.FinishedAt)}</td> </tr> </table> </div> </div> <div if="{data.Stats}" class="col-lg-6"> <div class="panel panel-default"> <div class="panel-heading">Detailed Stats</div> <table class="table table-bordered"> <tr> <td>Number of valid links</td> <td class="text-right" style="width: 200px;">{data.Stats.ValidLinksCount}</td> </tr> <tr> <td>Number of dead links</td> <td class="text-right">{data.Stats.DeadLinksCount}</td> </tr> <tr> <td>Number of redirected links</td> <td class="text-right">{data.Stats.RedirectedLinksCount}</td> </tr> <tr> <td>Number of valid embedded YouTube videos</td> <td class="text-right">{data.Stats.ValidEmbeddedYouTubeVideosCount}</td> </tr> <tr> <td>Number of dead embedded YouTube videos</td> <td class="text-right">{data.Stats.DeadEmbeddedYouTubeVideosCount}</td> </tr> </table> </div> </div> <div if="{data.Stats}" class="col-lg-6"> <div class="panel panel-default"> <div class="panel-heading">Setting Stats</div> <table class="table table-bordered"> <tr> <td>Crawl delay</td> <td class="text-right" style="width: 200px;">{data.Stats.CrawlDelayInSeconds} seconds</td> </tr> <tr> <td>Concurrent fetchers</td> <td class="text-right">{data.Stats.MaxFetchers}</td> </tr> <tr> <td>URL limit</td> <td class="text-right">{data.Stats.URLLimit} URLs</td> </tr> <tr> <td>Limit reached</td> <td class="text-right">{bool2text(data.Stats.LimitReached)}</td> </tr> <tr> <td>Show working redirects</td> <td class="text-right">{bool2text(showWorkingRedirects)}</td> </tr> </table> </div> </div> </div> </div> <div role="tabpanel" class="tab-pane" id="links{id}"> <h3>Broken<span if="{showWorkingRedirects}"> and Redirected</span> Links</h3> <p>The table below shows all broken<span if="{showWorkingRedirects}"> and redirected</span> links. Please note that the fixed markers are just temporary and are reset with the next link check.</p> <p if="{showWorkingRedirects}">The result lists working redirects. Non-temporary redirects, even if working correctly, have disadvantages like for example increased loading times and should therefore be fixed. However showing working redirects can be disabled in the settings.</p> <p if="{!showWorkingRedirects}">The result doesn\'t list working redirects. Non-temporary redirects, even if working correctly, have disadvantages like for example increased loading times and should therefore be fixed. Showing working redirects can be enabled in the settings.</p> <datatable ref="brokenLinks" table-class="table-striped responsive-table" columns="{urlsWithBrokenLinksColumns}" data="{urlsWithBrokenLinks}" actions="{brokenLinksActions}" message="{resultsMessage}"> </datatable> </div> <div role="tabpanel" class="tab-pane" id="images{id}"> <h3>Broken<span if="{showWorkingRedirects}"> and Redirected</span> Images</h3> <p if="{!hasToken()}">Broken images are just checked in the <a href="https://www.marcobeierer.com/tools/link-checker-professional" target="_blank">professional version of the Link Checker</a>.</p> <p if="{hasToken()}">The table below shows all broken<span if="{showWorkingRedirects}"> and redirected</span> images. Please note that the fixed markers are just temporary and are reset for the next link check.</p> <p if="{hasToken() && showWorkingRedirects}">The result lists working redirects. Non-temporary redirects, even if working correctly, have disadvantages like for example increased loading times and should therefore be fixed. However showing working redirects can be disabled in the settings.</p> <p if="{hasToken() && !showWorkingRedirects}">The result doesn\'t list working redirects. Non-temporary redirects, even if working correctly, have disadvantages like for example increased loading times and should therefore be fixed. Showing working redirects can be enabled in the settings.</p> <datatable if="{hasToken()}" table-class="table-striped table-responsive" columns="{urlsWithDeadImagesColumns}" data="{urlsWithDeadImages}" actions="{brokenImagesActions}" message="{resultsMessage}"> </datatable> </div> <div role="tabpanel" class="tab-pane" id="youTubeVideos{id}"> <h3>Broken Embedded YouTube Videos</h3> <p if="{!hasToken()}">Broken embedded YouTube videos are just checked in the <a href="https://www.marcobeierer.com/tools/link-checker-professional" target="_blank">professional version of the Link Checker</a>.</p> <p if="{hasToken()}">The table below shows all broken embedded YouYube videos. Please note that the fixed markers are just temporary and are reset for the next link check.</p> <datatable if="{hasToken()}" table-class="table-striped table-responsive" columns="{urlsWithDeadYouTubeVideosColumns}" data="{urlsWithDeadYouTubeVideos}" actions="{deadYouTubeVideosActions}" message="{resultsMessage}"> </datatable> </div> <div role="tabpanel" class="tab-pane" id="statusCodes{id}"> <h3>Common Status Codes</h3> <div class="panel panel-default table-responsive"> <table class="table table-striped table-responsive"> <thead> <tr> <th style="width: 10em;">Status Code</th> <th style="width: 20em;">Status Text</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>502</td> <td>Bad Gateway</td> <td>The server returned an invalid response when the Link Checker tried to access the URL.</td> </tr> <tr> <td>504</td> <td>Gateway Timeout</td> <td>The Link Checker was not able to access the URL because it timed out.</td> </tr> </tbody> </table> </div> </div> <div role="tabpanel" class="tab-pane" id="unhandledResources{id}"> <h3>Unhandled Resources (mainly blocked by robots.txt)</h3> <p>Websites can prohibit access for web crawlers like the one used by the Link Checker with the robots exclusion protocol (robots.txt file). The Link Checker does respect the robots exclusion protocol for the website it crawls, but not for external links because it does just access individual URLs of the external sites.</p> <p>However, some websites take some effort to restrict the access for crawlers and the Link Checker does respect that and does not try to bypass the restrictions. You can find all URLs the Link Checker was not able to access in the table below, so that you could check them manually. If you have done this, you could mark them as working. Each marker is saved for one month in your browsers cache and the date of the last marking is shown in the table below.</p> <p>If the blocked links were found on your website, you can add rules for the Link Checker to your robots.txt file and restart the Link Checker. Please see the <a href="https://www.marcobeierer.com/tools/link-checker-faq" target="_blank">FAQs</a> for further information.</p> <h4>Unhandled Links</h4> <datatable ref="linksBlockedByRobots" table-class="table-striped table-responsive" columns="{urlsWithLinksBlockedByRobotsColumns}" data="{urlsWithLinksBlockedByRobots}" actions="{blockedLinksActions}" message="{resultsMessage}"> </datatable> <virtual if="{hasToken()}"> <h4>Unhandled Images</h4> <datatable ref="unhandledEmbeddedResources" table-class="table-striped table-responsive" columns="{urlsWithLinksBlockedByRobotsColumns}" data="{urlsWithUnhandledEmbeddedResources}" actions="{blockedLinksActions}" message="{resultsMessage}"> </datatable> </virtual> <h4>Custom Status Codes</h4> <div class="panel panel-default table-responsive"> <table class="table table-striped table-responsive"> <thead> <tr> <th style="width: 10em;">Status Code</th> <th style="width: 20em;">Status Text</th> <th>Description</th> </tr> </thead> </tbody> <tr> <td>601</td> <td>Blocked by robots</td> <td>The Link Checker was not able to access the URL because the access was blocked by the robots exclusion protocol.</td> </tr> <tr> <td>602</td> <td>HTML parse error</td> <td>The HTML code of this page could not be parsed because of an error in the code or because the page was larger than 50 MB.</td> </tr> <tr> <td>603</td> <td>Unknown authority error</td> <td>This status code means that the certificate was signed by an unknown certificate authority. If accessing the page works in your web browser, probably the provided certificate chain is broken. Most, but not all, browsers can handle such situation and download the missing certificates on the fly. If the error was detected on you website, you should fix the origin of the issue and provid the whole chain to all clients.</td> </tr> </tbody> </table> </div> <p><em>Please note that it is possible in rare situations that a website returns these status codes and if this is the case, they probably have another meaning.</em></p> </div> <div if="{enableScheduler}" role="tabpanel" class="tab-pane" id="scheduler{id}"> <h3>Scheduler</h3> <linkchecker-scheduler website-url="{websiteURL}" token="{token}" email="{email}" dev="{dev}"></linkchecker-scheduler> </div> </div>',
"","",function(a){function c(a){var c="https://api.marcobeierer.com/linkchecker/v1/"+a+"?origin_system="+b.originSystem+"&max_fetchers="+b.maxFetchers;"1"==b.dev?c="sample_data/current.json?_="+Date.now():"2"==b.dev&&(c="http://marco-desktop:9999/linkchecker/v1/"+a+"?origin_system="+b.originSystem+"&max_fetchers="+b.maxFetchers);return c}function e(b,a){return[{label:"URL",linkCallback:function(b){return b.URL},isRedirectedCallback:function(b){return b.IsRedirected}},{label:"StatusCode",width:"9em"},
{label:"Actions",width:"10em"}]}function f(b){b=lscache.get(b.URL);return void 0==b?!1:(new Date(Date.now())).toLocaleDateString()==(new Date(b)).toLocaleDateString()}function g(b){Object.keys(b).forEach(function(a){delete b[a]})}function h(b,a){delete a[b.FoundOnURL][b.URL];Object.keys(a[b.FoundOnURL])}var b=this;b.message="";b.originSystem=a.originSystem||"riot";b.data={};b.dev=a.dev;b.enableScheduler=a.enableScheduler||!1;b.showWorkingRedirects=a.showWorkingRedirects||!1;b.forceStop=!1;b.crawlDelayInSeconds=
0;b.id=a.id||0;b.email=a.email||"";b.on("mount",function(){lscache.setBucket("linkchecker");lscache.flushExpired();localforage.config({driver:localforage.INDEXEDDB,name:"LinkChecker",version:1,storeName:"result"});if(void 0!=b.websiteURL){var a="";""!=b.token&&(a="BEARER "+b.token);var l=b.websiteURL64(),l=c(l+"/running");jQuery.ajax({method:"GET",url:l,headers:{Authorization:a}}).done(function(a,c,k){a.Running?b.start():(b.setMessage("Loading the result of the last check from cache, please wait a moment.",
"warning"),localforage.getItem("data",function(a,c){null!=a?(console.error(a),b.setMessage("Loading the result of the last check failed.","danger")):null==c?b.setMessage("No result available in the cache, the Link Checker was not started yet.","info"):(b.data=c,b.render(b.data),b.update())}))})}});b.bool2text=function(b){return b?"Yes":"No"};b.datetime=function(b){return(new Date(b)).toLocaleString()};b.hasToken=function(){return b.token||void 0!=b.data.Stats&&b.data.Stats.TokenUsed};b.urlsWithBrokenLinksColumns=
[{label:"URL where the broken links were found",width:"35%",callback:function(b,a){return a},linkCallback:function(b,a){return a}},{label:"Broken Links",type:"subtable",colspan:"3",callback:e,message:"No broken links left."},{label:"Status Code",width:"9em",showBody:!1},{label:"Actions",width:"11em",showBody:!1}];b.urlsWithLinksBlockedByRobotsColumns=[{label:"URL where the resources were found",width:"35%",callback:function(b,a){return a},linkCallback:function(b,a){return a}},{label:"Blocked Resources",
type:"subtable",colspan:"4",callback:function(b,a){return[{label:"URL",linkCallback:function(b){return b.URL},isRedirectedCallback:function(b){return b.IsRedirected}},{label:"StatusCode",width:"9em"},{label:"Marked As Working On",width:"15em",callback:function(b){b=lscache.get(b.URL);return void 0==b?"never":(new Date(b)).toLocaleDateString()}},{label:"Actions",width:"10em"}]}},{label:"Status Code",width:"9em",showBody:!1},{label:"Marked As Working On",width:"15em",showBody:!1},{label:"Actions",width:"11em",
showBody:!1}];b.urlsWithDeadImagesColumns=[{label:"URL where the broken images were found",width:"35%",callback:function(b,a){return a},linkCallback:function(b,a){return a}},{label:"Broken Images",type:"subtable",colspan:"3",callback:e,message:"No broken images left."},{label:"Status Code",width:"9em",showBody:!1},{label:"Actions",width:"11em",showBody:!1}];b.urlsWithDeadYouTubeVideosColumns=[{label:"URL where the broken videos were found",width:"35%",callback:function(b,a){return a},linkCallback:function(b,
a){return a}},{label:"Broken Embedded Videos",type:"subtable",colspan:"3",callback:function(b,a){return[{label:"URL",linkCallback:function(b){return b.URL},isRedirectedCallback:function(b){return b.IsRedirected}},{label:"StatusText",width:"25em"},{label:"Actions",width:"10em"}]},message:"No broken videos left."},{label:"Status Text",width:"25em",showBody:!1},{label:"Actions",width:"11em",showBody:!1}];b.blockedLinksActions=[{labelCallback:function(b){return f(b)?"Already marked":"Mark as Working"},
btnType:"primary",action:"callback",callback:function(a){lscache.set(a.URL,Date.now(),43200);b.refs.linksBlockedByRobots.update()},isDisabledCallback:f}];b.brokenImagesActions=[{label:"Mark as Fixed",btnType:"primary",action:"callback",callback:function(a){h(a,b.urlsWithDeadImages)}}];b.deadYouTubeVideosActions=[{label:"Mark as Fixed",btnType:"primary",action:"callback",callback:function(a){h(a,b.urlsWithDeadYouTubeVideos)}}];b.brokenLinksActions=[{label:"Mark as Fixed",btnType:"primary",action:"callback",
callback:function(a){h(a,b.urlsWithBrokenLinks)}}];a.linkchecker.on("start",function(a,c,d,m){b.websiteURL=a;b.setToken(c);b.showWorkingRedirects=d;b.maxFetchers=m||b.maxFetchers;b.start()});a.linkchecker.on("stop",function(){b.forceStop=!0});a.linkchecker.on("started",function(){b.disabled=!0});a.linkchecker.on("stopped",function(){b.disabled=!1;b.update()});this.setMessage=function(a,c){b.message=a;b.messageType=c;b.update()}.bind(this);this.setToken=function(a){b.token=a.replace(/\s/g,"")}.bind(this);
b.websiteURL=a.websiteUrl||"";b.token="";a.token&&b.setToken(a.token);b.maxFetchers=a.maxFetchers||10;""!=b.websiteURL&&(b.showButton=!0);b.urlsCrawledCount=0;b.checkedLinksCount=0;b.setMessage("The Link Checker was not started yet.","info");b.resultsMessage="Link check not started yet.";b.urlsWithBrokenLinks={};b.urlsWithLinksBlockedByRobots={};b.urlsWithDeadImages={};b.urlsWithDeadYouTubeVideos={};b.urlsWithUnhandledEmbeddedResources={};b.retries=0;this.submit=function(a){a.preventDefault();b.start()}.bind(this);
b.websiteURL64=function(){var a=window.btoa(encodeURIComponent(b.websiteURL).replace(/%([0-9A-F]{2})/g,function(b,a){return String.fromCharCode("0x"+a)}));a.replace(/\+/g,"-").replace(/\//g,"_");return a};this.start=function(){a.linkchecker.trigger("started");localforage.removeItem("data",function(a){console.error(a);b.setMessage("Could not remove old result from cache.","danger")});b.data={};b.urlsCrawledCount=0;b.checkedLinksCount=0;g(b.urlsWithBrokenLinks);g(b.urlsWithLinksBlockedByRobots);g(b.urlsWithDeadImages);
g(b.urlsWithDeadYouTubeVideos);g(b.urlsWithUnhandledEmbeddedResources);b.setMessage("Your website is being checked. Please wait a moment. You can watch the progress in the stats below.","warning");b.resultsMessage="Please wait until the check has finished.";var k=b.websiteURL64();b.doRequest=function(){var e="";""!=b.token&&(e="BEARER "+b.token);var d=c(k);jQuery.ajax({method:"GET",url:d,headers:{Authorization:e}}).done(function(c){b.retries=0;b.data=c;b.render(b.data);c.Finished?(a.linkchecker.trigger("stopped"),
localforage.setItem("data",c,function(a){console.error(a);b.setMessage("Could not save the result in cache.","danger")})):b.forceStop?b.stop(d,e):setTimeout(b.doRequest,1E3)}).fail(function(c){a.linkchecker.trigger("stopped");var k=c.status;if(401==k)b.setMessage("The validation of your token failed. The token is invalid or has expired. Please try it again or contact me if the token should be valid.","danger");else if(500==k)""==c.responseText?b.setMessage("The check of your website failed. Please try it again.",
"danger"):b.setMessage("The check of your website failed with the error:<br/><strong>"+JSON.parse(c.responseText)+"</strong>.","danger");else if(503==k)b.setMessage("The backend server is temporarily unavailable. Please try it again later.","danger");else{if(0==k&&3>b.retries){b.retries++;b.forceStop?b.stop(d,e):setTimeout(b.doRequest,1E3);return}b.setMessage("The check of your website failed. Please try it again or contact the developer of the extensions.","danger")}b.resultsMessage="Link check not started yet."}).always(function(){b.update()})};
b.doRequest()}.bind(this);b.stopCheck=function(a){a.preventDefault();b.forceStop=!0};b.stop=function(c,e){b.setMessage("Going to stop the current check.","warning");b.update();jQuery.ajax({method:"DELETE",url:c,headers:{Authorization:e}}).done(function(a){b.setMessage("The current check was stopped successfully.","info")}).fail(function(a){b.setMessage("Could not stop the check because the connection to the server failed.","danger")}).always(function(){b.forceStop=!1;a.linkchecker.trigger("stopped");
b.update()})};b.render=function(a){b.urlsCrawledCount=a.URLsCrawledCount;b.checkedLinksCount=a.CheckedLinksCount;b.crawlDelayInSeconds=a.CrawlDelayInSeconds;if(a.Finished){if(a.LimitReached)b.setMessage('The URL limit was reached. The Link Checker has not checked your complete website. You could buy a token for the <a href="https://www.marcobeierer.com/purchase">Link Checker Professional</a> to check up to 50\'000 URLs.',"danger");else{var c="Your website has been checked successfully. Please see the result below.";
void 0==a.Stats||a.Stats.TokenUsed||(c+=' If you additionally like to check your site for <strong>broken images</strong> or like to use the scheduler for an <strong>automatically triggered daily check</strong>, then have a look at the <a href="https://www.marcobeierer.com/purchase">Link Checker Professional</a>.');b.setMessage(c,"success")}b.resultsMessage="Nothing is broken, everything seems to be fine.";if(!jQuery.isEmptyObject(a.DeadLinks))for(var d in a.DeadLinks)b.urlsWithBrokenLinks[d]={},a.DeadLinks[d].forEach(function(a){!b.showWorkingRedirects&&
300>a.StatusCode||(a.FoundOnURL=d,b.urlsWithBrokenLinks[d][a.URL]=a)}),0==Object.keys(b.urlsWithBrokenLinks[d]).length&&delete b.urlsWithBrokenLinks[d];if(!jQuery.isEmptyObject(a.UnhandledLinkedResources))for(d in a.UnhandledLinkedResources)b.urlsWithLinksBlockedByRobots[d]={},a.UnhandledLinkedResources[d].forEach(function(a){a.FoundOnURL=d;b.urlsWithLinksBlockedByRobots[d][a.URL]=a}),0==Object.keys(b.urlsWithLinksBlockedByRobots[d]).length&&delete b.urlsWithLinksBlockedByRobots[d];if(!jQuery.isEmptyObject(a.DeadEmbeddedImages))for(d in a.DeadEmbeddedImages)b.urlsWithDeadImages[d]=
{},a.DeadEmbeddedImages[d].forEach(function(a){!b.showWorkingRedirects&&300>a.StatusCode||(a.FoundOnURL=d,b.urlsWithDeadImages[d][a.URL]=a)}),0==Object.keys(b.urlsWithDeadImages[d]).length&&delete b.urlsWithDeadImages[d];if(!jQuery.isEmptyObject(a.DeadEmbeddedYouTubeVideos))for(d in a.DeadEmbeddedYouTubeVideos)b.urlsWithDeadYouTubeVideos[d]={},a.DeadEmbeddedYouTubeVideos[d].forEach(function(a){!b.showWorkingRedirects&&300>a.StatusCode||(a.FoundOnURL=d,b.urlsWithDeadYouTubeVideos[d][a.URL]=a)}),0==
Object.keys(b.urlsWithDeadYouTubeVideos[d]).length&&delete b.urlsWithDeadYouTubeVideos[d];if(!jQuery.isEmptyObject(a.UnhandledEmbeddedResources))for(d in a.UnhandledEmbeddedResources)b.urlsWithUnhandledEmbeddedResources[d]={},a.UnhandledEmbeddedResources[d].forEach(function(a){a.FoundOnURL=d;b.urlsWithUnhandledEmbeddedResources[d][a.URL]=a}),0==Object.keys(b.urlsWithUnhandledEmbeddedResources[d]).length&&delete b.urlsWithUnhandledEmbeddedResources[d]}}});riot.tag2("raw","<span></span>","","",function(a){var c=this;c.root.innerHTML=a.content;c.on("update",function(){c.root.innerHTML=a.content})});riot.tag2("resulttable",'<div class="panel panel-default table-responsive"> <table class="table table-striped"> <thead> <tr> <th style="width: 35%;">{thCol1}</th> <th>{thCol2}</th> <th style="width: 10em;">{thCol3}</th> </tr> </thead> <tbody> <tr if="{!data || Object.keys(data).length === 0}"> <td>{resultsMessage}</td> <td></td> <td></td> </tr> <tr each="{deadResources, foundOnURL in data}"> <td><a href="{foundOnURL}" target="_blank">{foundOnURL}</a></td> <td colspan="2"> <div class="panel panel-default" style="margin-bottom: 0;"> <table class="table"> <tr each="{deadResource in deadResources}"> <td><a href="{deadResource.URL}" target="_blank">{deadResource.URL}</a></td> <td style="width: 9em;">{deadResource.StatusCode}</td> </tr> </table> </div> </td> </tr> </tbody> <tfoot> <tr> <th>{thCol1}</th> <th>{thCol2}</th> <th>{thCol3}</th> </tr> </tfoot> </table> </div>',
"","",function(a){var c=this;c.thCol1=a.thCol1;c.thCol2=a.thCol2;c.thCol3=a.thCol3;c.resultsMessage=a.resultsMessage;c.data=a.data;c.on("update",function(){c.resultsMessage=a.resultsMessage;c.data=a.data})});
